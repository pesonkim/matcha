{"version":3,"sources":["../node_modules/moment-twitter/node_modules/moment/lang sync /^/.//.*$","utils/auth.js","services/users.js","utils/parse.js","services/photos.js","reducers/formReducer.js","services/login.js","services/forgot.js","reducers/userReducer.js","services/tags.js","reducers/publicReducer.js","services/views.js","services/likes.js","services/reports.js","services/blocks.js","services/matches.js","services/messages.js","services/notifications.js","reducers/matchReducer.js","store.js","components/layout/Header.js","components/layout/Footer.js","components/layout/Layout.js","components/ui/Wrapper.js","components/ui/forms/Heading.js","components/ui/forms/InputField.js","components/ui/forms/PasswordField.js","components/ui/forms/SubmitButton.js","components/pages/Login.js","utils/validate.js","components/pages/Signup.js","components/pages/Forgot.js","components/ui/Preview.js","components/ui/forms/FilterTags.js","components/ui/forms/UserSort.js","components/ui/forms/Slider.js","components/pages/Filters.js","components/pages/Browse.js","components/pages/PublicProfile/TopBar.js","components/pages/PublicProfile/Image.js","components/pages/PublicProfile/Info.js","components/pages/PublicProfile/Actions.js","components/ui/Confirm.js","components/ui/MatchModal.js","components/pages/PublicProfile/index.js","components/pages/MatchProfile/TopBar.js","components/pages/MatchProfile/Image.js","components/pages/MatchProfile/Info.js","components/pages/MatchProfile/Actions.js","components/pages/MatchProfile/index.js","components/pages/Reset.js","components/ui/forms/UserImage.js","components/ui/forms/UserGender.js","components/ui/forms/UserOrientation.js","components/ui/forms/UserBio.js","components/ui/forms/UserTags.js","components/ui/Togglable.js","components/ui/forms/UserLocation.js","components/pages/Profile.js","components/pages/Matches.js","components/pages/Chat/InfoBar.js","components/pages/Chat/Message.js","components/pages/Chat/ChatMessages.js","components/pages/Chat/ChatInput.js","components/pages/Chat/index.js","components/pages/Notifications.js","components/ui/forms/ProfileForm.js","App.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","token","newToken","headers","Authorization","baseUrl","getUsers","a","axios","get","auth","response","data","createUser","userObject","post","getProfile","updateProfile","put","window","localStorage","setItem","JSON","stringify","values","length","substr","find","str","orientation","split","includes","push","tags","splice","i","addPhoto","blob","initialState","notification","errorMessage","email","username","latitude","longitude","age","gender","bio","photoStr","populate","dispatch","userService","type","error","avatar","photosService","user","parse","getItem","setError","message","formReducer","state","action","firstname","lastname","login","userData","logout","clear","location","href","forgot","reset","password","loggedIn","userComplete","ip","update","input","userReducer","getTags","addTags","ids","users","profile","sortFilter","allTags","filterTags","filterSliders","distance","fame","loadingApp","loadingUsers","filter","sliders","sort","blocks","b","receiver","every","tag","getDistance","Math","ceil","convertDistance","matches","some","v","concat","getUserById","getUserIds","tagsService","updateTags","newTags","currentTags","filteredTags","Array","from","Set","updateStr","t","join","publicReducer","getViews","addView","newView","getLikes","addLike","newLike","updateRead","like","removeLike","delete","getReports","addReport","newReport","getBlocks","addBlock","newBlock","removeBlock","block","getMatches","getPublicLikes","getMessages","addMessage","newMessage","updateMessages","getNotif","addNotif","newNotif","updateNotif","notif","socket","io","process","likes","publicLikes","reports","log","matchService","blockService","messageService","chat","m","sender","latest","created_at","Date","notifService","reverse","getLog","profileView","view","viewService","to","emit","console","profileLike","likeService","profileReport","report","reportService","profileBlock","isLiked","chatMessage","readNotif","matchReducer","reducer","combineReducers","form","public","match","store","createStore","composeWithDevTools","applyMiddleware","thunk","Header","useSelector","useState","unreadMessages","setUnreadMessages","unreadNotif","setUnreadNotif","useEffect","count","l","len","status","is_seen","className","style","backgroundColor","backdropFilter","lineHeight","onClick","loginService","Footer","version","xmlns","height","width","d","points","color","target","rel","Layout","props","children","Wrapper","Heading","title","InputField","errors","name","charAt","toUpperCase","slice","display","borderWidth","borderColor","borderRadius","padding","onBlur","maxLength","PasswordField","show","setShow","tabIndex","position","top","right","event","preventDefault","SubmitButton","marginTop","marginBottom","text","LoginPage","useDispatch","pathname","onSubmit","credentials","value","validate","birthdate","moment","isValid","test","RegExp","SignupPage","setErrors","setErrorMessage","setNotification","inputStyle","createOptions","start","end","options","rand","random","toString","year","month","day","then","remove","catch","ForgotPage","check","forgotService","Preview","hasLiked","isMatch","online","maxHeight","justifyContent","overflow","src","alt","objectFit","maxWidth","margin","lat","lng","meters","km","FilterTags","isMulti","placeholder","label","onChange","option","current","isArray","UserSort","selected","SliderFilter","setDistance","setAge","setFame","step","min","max","onFinalChange","renderTrack","onMouseDown","onTouchStart","ref","background","getTrackBackground","colors","alignSelf","renderThumb","alignItems","boxShadow","allowOverlap","index","Togglable","visible","setVisible","showWhenVisible","Filters","Slider","BrowsePage","TopBar","history","useHistory","goBack","Image","image","Info","fieldStyle","borderBottomWidth","date","live","ReportButton","CantReportButton","BlockButton","UnlikeButton","setModal","likeid","LikeButton","CantLikeButton","Actions","handleLike","askConfirm","handleReport","handleBlock","reported","r","liked","Confirm","dialog","setDialog","handler","addEventListener","removeEventListener","MatchModal","modal","PublicProfile","profileId","wait","setWait","scroll","left","behavior","last_login","MatchProfile","ResetPage","useParams","UserImage","handleImage","imageFile","files","maxSizeMB","maxWidthOrHeight","useWebWorker","size","imageCompression","compressedFile","objectURL","URL","createObjectURL","HTMLElement","accept","UserGender","UserOrientation","UserBio","defaultValue","resize","UserTags","UserLocation","isLoaded","useJsApiLoader","googleMapsApiKey","setMap","onLoad","useCallback","bounds","google","maps","LatLngBounds","extend","center","getNorthEast","equals","getSouthWest","extendPoint","LatLng","fitBounds","onUnmount","zoom","streetViewControl","disableDefaultUI","zoomControl","mapContainerStyle","draggable","on","onDragEnd","latLng","handleDrag","radius","strokeColor","strokeOpacity","strokeWeight","fillColor","fillOpacity","ProfilePage","handleSubmit","propName","photo","reader","FileReader","readAsDataURL","onloadend","result","handleUnblock","logStyle","entryStyle","receivername","MatchPreview","isSeen","viewBox","fill","Matches","borderTopWidth","InfoBar","Message","ChatMessages","messages","messagesEndRef","useRef","scrollIntoView","ChatInput","setMessage","sendMessage","showEmojis","setShowEmojis","parent","document","getElementById","contains","borderTopLeftRadius","borderBottomLeftRadius","paddingRight","onKeyPress","key","onSelect","native","borderTopRightRadius","borderBottomRightRadius","userSelect","Chat","setMessages","MarkAsRead","readAll","Notification","readOne","cursor","marginLeft","sendername","notifMessage","twitterShort","Notifications","items","setItems","hasMore","notifid","initial","dataLength","next","scrollableTarget","loader","endMessage","unread","ProfileForm","App","coords","IPv4","close","path","exact","render","parseInt","params","foundUser","Browse","Login","Signup","Forgot","Reset","Profile","ReactDOM"],"mappings":"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","file":"static/js/main.982bc829.chunk.js","sourcesContent":["var map = {\n\t\"./ar\": 130,\n\t\"./ar-ma\": 131,\n\t\"./ar-ma.js\": 131,\n\t\"./ar.js\": 130,\n\t\"./bg\": 132,\n\t\"./bg.js\": 132,\n\t\"./br\": 133,\n\t\"./br.js\": 133,\n\t\"./bs\": 134,\n\t\"./bs.js\": 134,\n\t\"./ca\": 135,\n\t\"./ca.js\": 135,\n\t\"./cs\": 136,\n\t\"./cs.js\": 136,\n\t\"./cv\": 137,\n\t\"./cv.js\": 137,\n\t\"./cy\": 138,\n\t\"./cy.js\": 138,\n\t\"./da\": 139,\n\t\"./da.js\": 139,\n\t\"./de\": 140,\n\t\"./de.js\": 140,\n\t\"./el\": 141,\n\t\"./el.js\": 141,\n\t\"./en-au\": 142,\n\t\"./en-au.js\": 142,\n\t\"./en-ca\": 143,\n\t\"./en-ca.js\": 143,\n\t\"./en-gb\": 144,\n\t\"./en-gb.js\": 144,\n\t\"./eo\": 145,\n\t\"./eo.js\": 145,\n\t\"./es\": 146,\n\t\"./es.js\": 146,\n\t\"./et\": 147,\n\t\"./et.js\": 147,\n\t\"./eu\": 148,\n\t\"./eu.js\": 148,\n\t\"./fa\": 149,\n\t\"./fa.js\": 149,\n\t\"./fi\": 150,\n\t\"./fi.js\": 150,\n\t\"./fo\": 151,\n\t\"./fo.js\": 151,\n\t\"./fr\": 152,\n\t\"./fr-ca\": 153,\n\t\"./fr-ca.js\": 153,\n\t\"./fr.js\": 152,\n\t\"./gl\": 154,\n\t\"./gl.js\": 154,\n\t\"./he\": 155,\n\t\"./he.js\": 155,\n\t\"./hi\": 156,\n\t\"./hi.js\": 156,\n\t\"./hr\": 157,\n\t\"./hr.js\": 157,\n\t\"./hu\": 158,\n\t\"./hu.js\": 158,\n\t\"./id\": 159,\n\t\"./id.js\": 159,\n\t\"./is\": 160,\n\t\"./is.js\": 160,\n\t\"./it\": 161,\n\t\"./it.js\": 161,\n\t\"./ja\": 162,\n\t\"./ja.js\": 162,\n\t\"./ka\": 163,\n\t\"./ka.js\": 163,\n\t\"./ko\": 164,\n\t\"./ko.js\": 164,\n\t\"./lt\": 165,\n\t\"./lt.js\": 165,\n\t\"./lv\": 166,\n\t\"./lv.js\": 166,\n\t\"./ml\": 167,\n\t\"./ml.js\": 167,\n\t\"./mr\": 168,\n\t\"./mr.js\": 168,\n\t\"./ms-my\": 169,\n\t\"./ms-my.js\": 169,\n\t\"./nb\": 170,\n\t\"./nb.js\": 170,\n\t\"./ne\": 171,\n\t\"./ne.js\": 171,\n\t\"./nl\": 172,\n\t\"./nl.js\": 172,\n\t\"./nn\": 173,\n\t\"./nn.js\": 173,\n\t\"./pl\": 174,\n\t\"./pl.js\": 174,\n\t\"./pt\": 175,\n\t\"./pt-br\": 176,\n\t\"./pt-br.js\": 176,\n\t\"./pt.js\": 175,\n\t\"./ro\": 177,\n\t\"./ro.js\": 177,\n\t\"./ru\": 178,\n\t\"./ru.js\": 178,\n\t\"./sk\": 179,\n\t\"./sk.js\": 179,\n\t\"./sl\": 180,\n\t\"./sl.js\": 180,\n\t\"./sq\": 181,\n\t\"./sq.js\": 181,\n\t\"./sv\": 182,\n\t\"./sv.js\": 182,\n\t\"./th\": 183,\n\t\"./th.js\": 183,\n\t\"./tl-ph\": 184,\n\t\"./tl-ph.js\": 184,\n\t\"./tr\": 185,\n\t\"./tr.js\": 185,\n\t\"./tzm\": 186,\n\t\"./tzm-la\": 187,\n\t\"./tzm-la.js\": 187,\n\t\"./tzm.js\": 186,\n\t\"./uk\": 188,\n\t\"./uk.js\": 188,\n\t\"./uz\": 189,\n\t\"./uz.js\": 189,\n\t\"./vn\": 190,\n\t\"./vn.js\": 190,\n\t\"./zh-cn\": 191,\n\t\"./zh-cn.js\": 191,\n\t\"./zh-tw\": 192,\n\t\"./zh-tw.js\": 192\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 287;","let token = null\n\nconst setToken = newToken => {\n\ttoken = `bearer ${newToken}`\n}\n\nconst config = () => ({\n\theaders: { Authorization: token },\n})\n\nexport default { setToken, config }","import axios from 'axios'\nimport auth from '../utils/auth'\n\nconst baseUrl = 'http://localhost:3001/api/users'\n\nconst getUsers = async () => {\n\tconst response = await axios.get(baseUrl, auth.config())\n\treturn response.data\n}\n\nconst createUser = async (userObject) => {\n\tconst response = await axios.post(baseUrl, userObject)\n\treturn response.data\n}\n\nconst getProfile = async (id) => {\n\tconst response = await axios.get(`${baseUrl}/${id}`, auth.config())\n\treturn response.data\n}\n\nconst updateProfile = async (userObject, id) => {\n\tconst response = await axios.put(`${baseUrl}/${id}`, userObject, auth.config())\n\twindow.localStorage.setItem('user', JSON.stringify(response.data))\n\treturn response.data\n}\n\nexport default { getUsers, createUser, getProfile, updateProfile }","const oToDb = (values) => {\n\tif (!values) {\n\t\treturn null\n\t} else if (values.length === 1) {\n\t\treturn values[0].substr(0, 1)\n\t} else if (values.length === 2) {\n\t\tif (!values.find(o => o === 'male')) {\n\t\t\treturn 'fo'\n\t\t} else if (!values.find(o => o === 'female')) {\n\t\t\treturn 'mo'\n\t\t} else {\n\t\t\treturn 'fm'\n\t\t}\n\t} else if (values.length === 3) {\n\t\treturn 'fmo'\n\t}\n}\n\nconst oFromDb = (str) => {\n\tlet orientation = []\n\n\tif (!str) {\n\t\treturn null\n\t}\n\n\tif (str.split('').length) {\n\t\tif (str.split('').includes('f')) {\n\t\t\torientation.push('female')\n\t\t}\n\t\tif (str.split('').includes('m')) {\n\t\t\torientation.push('male')\n\t\t}\n\t\tif (str.split('').includes('o')) {\n\t\t\torientation.push('other')\n\t\t}\n\t}\n\n\treturn orientation\n}\n\nconst parseTags = (tags) => {\n\treturn tags ? tags.split('#').splice(1).map(i => '#' + i) : []\n}\n\n\nexport default { oToDb, oFromDb, parseTags }","import axios from 'axios'\nimport auth from '../utils/auth'\n\nconst baseUrl = 'http://localhost:3001/api/photos'\n\nconst addPhoto = async (blob) => {\n\tconst response = await axios.post(baseUrl, blob, auth.config())\n\treturn response.data\n}\n\nexport default { addPhoto }","import userService from '../services/users'\nimport parse from '../utils/parse'\nimport photosService from '../services/photos'\n\nconst initialState = {\n\tnotification: '',\n\terrorMessage: '',\n\tid: null,\n\temail: null,\n\tusername: null,\n\tlatitude: null,\n\tlongitude: null,\n\tage: null,\n\tgender: null,\n\torientation: null,\n\tbio: null,\n\ttags: null,\n\tphotoStr: null,\n}\n\nconst formReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\tcase 'POPULATE':\n\t\treturn {\n\t\t\t...state,\n\t\t\temail: action.data.email,\n\t\t\tusername: action.data.username,\n\t\t\tfirstname: action.data.firstname,\n\t\t\tlastname: action.data.lastname,\n\t\t\tgender: action.data.gender,\n\t\t\torientation: parse.oFromDb(action.data.orientation),\n\t\t\tbio: action.data.bio,\n\t\t\ttags: parse.parseTags(action.data.tags),\n\t\t\tphotoStr: action.data.avatar,\n\t\t}\n\tcase 'PREVIEW':\n\t\treturn {\n\t\t\t...state,\n\t\t\tphotoStr: action.data,\n\t\t}\n\tcase 'PHOTO':\n\t\treturn {\n\t\t\t...state,\n\t\t\tphotoStr: action.data.blob,\n\t\t}\n\tcase 'GENDER':\n\t\treturn {\n\t\t\t...state,\n\t\t\tgender: action.data.gender,\n\t\t}\n\tcase 'ORIENTATION':\n\t\treturn {\n\t\t\t...state,\n\t\t\torientation: action.data.orientation,\n\t\t}\n\tcase 'BIO':\n\t\treturn {\n\t\t\t...state,\n\t\t\tbio: action.data.bio,\n\t\t}\n\tcase 'TAGS':\n\t\treturn {\n\t\t\t...state,\n\t\t\ttags: action.data.tags,\n\t\t}\n\tcase 'NOTIF':\n\t\treturn {\n\t\t\t...state,\n\t\t\tnotification: action.data,\n\t\t\terrorMessage: ''\n\t\t}\n\tcase 'ERROR':\n\t\treturn {\n\t\t\t...state,\n\t\t\terrorMessage: action.data,\n\t\t\tnotification: '',\n\t\t}\n\tcase 'CLEAR':\n\t\treturn {\n\t\t\t...state,\n\t\t\terrorMessage: '',\n\t\t\tnotification: '',\n\t\t}\n\tdefault:\n\t\treturn state\n\t}\n}\n\nexport const populate = (id) => {\n\treturn async dispatch => {\n\t\tlet data\n\t\ttry {\n\t\t\tdata = await userService.getProfile(id)\n\t\t\tdispatch({\n\t\t\t\ttype: 'POPULATE',\n\t\t\t\tdata\n\t\t\t})\n\t\t} catch (error) {\n\t\t\tif (error.response && error.response.data) {\n\t\t\t\tdata = error.response.data.error\n\t\t\t} else {\n\t\t\t\tdata = 'Database error'\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: 'ERROR',\n\t\t\t\tdata,\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport const avatar = (blob) => {\n\treturn async dispatch => {\n\t\tlet data\n\t\ttry {\n\t\t\tdata = await photosService.addPhoto(blob)\n\t\t\tconst user = JSON.parse(window.localStorage.getItem('user'))\n\t\t\twindow.localStorage.setItem('user', JSON.stringify({ ...user, avatar: data.blob }))\n\t\t\tdispatch({\n\t\t\t\ttype: 'PHOTO',\n\t\t\t\tdata\n\t\t\t})\n\t\t} catch (error) {\n\t\t\tif (error.response && error.response.data) {\n\t\t\t\tdata = error.response.data.error\n\t\t\t} else {\n\t\t\t\tdata = 'Database error'\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: 'ERROR',\n\t\t\t\tdata,\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport const setNotif = (message) => {\n\treturn dispatch => {\n\t\tdispatch({\n\t\t\ttype: 'NOTIF',\n\t\t\tdata: message,\n\t\t})\n\t}\n}\n\nexport const setError = (message) => {\n\treturn dispatch => {\n\t\tdispatch({\n\t\t\ttype: 'ERROR',\n\t\t\tdata: message,\n\t\t})\n\t}\n}\n\nexport const clear = () => {\n\treturn dispatch => {\n\t\tdispatch({\n\t\t\ttype: 'CLEAR'\n\t\t})\n\t}\n}\n\nexport default formReducer","import axios from 'axios'\nimport auth from '../utils/auth'\n\nconst baseUrl = 'http://localhost:3001/api/login'\n\nconst login = async (userData) => {\n\tconst response = await axios.post(baseUrl, userData)\n\twindow.localStorage.setItem('user', JSON.stringify(response.data))\n\tauth.setToken(response.data.token)\n\treturn response.data\n}\n\nconst logout = () => {\n\twindow.localStorage.clear()\n\twindow.location.href='/'\n}\n\nexport default { login, logout }","import axios from 'axios'\n\nconst baseUrl = 'http://localhost:3001/api/reset'\nconst resetUrl = 'http://localhost:3001/api/reset/new'\n\nconst forgot = async (email) => {\n\tconst response = await axios.post(baseUrl, email)\n\treturn response.data\n}\n\nconst reset = async (password) => {\n\tconst response = await axios.post(resetUrl, password)\n\treturn response.data\n}\n\nexport default { forgot, reset }","import loginService from '../services/login'\nimport userService from '../services/users'\nimport forgotService from '../services/forgot'\nimport axios from 'axios'\nimport parse from '../utils/parse'\n\nconst initialState = {\n\tid: null,\n\tusername: null,\n\temail: null,\n\ttoken: null,\n\tloggedIn: false,\n\tuserComplete: false,\n\tip: null,\n\tlatitude: null,\n\tlongitude: null,\n\tage: null,\n\tgender: null,\n\torientation: null,\n\tbio: null,\n\ttags: null,\n\tavatar: null,\n}\n\nconst userReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\tcase 'LOGIN':\n\t\treturn {\n\t\t\t...state,\n\t\t\tid: action.data.id,\n\t\t\tusername: action.data.username,\n\t\t\temail: action.data.email,\n\t\t\tfirstname: action.data.firstname,\n\t\t\tlastname: action.data.lastname,\n\t\t\ttoken: action.data.token,\n\t\t\tage: action.data.age,\n\t\t\tgender: action.data.gender,\n\t\t\torientation: parse.oFromDb(action.data.orientation),\n\t\t\tbio: action.data.bio,\n\t\t\ttags: parse.parseTags(action.data.tags),\n\t\t\tloggedIn: true,\n\t\t\tuserComplete: (action.data.gender && action.data.orientation ? true : false),\n\t\t\tlatitude: action.data.latitude,\n\t\t\tlongitude: action.data.longitude,\n\t\t\tavatar: action.data.avatar,\n\t\t}\n\tcase 'LOGOUT':\n\t\treturn initialState\n\tcase 'LOOKUP':\n\t\treturn {\n\t\t\t...state,\n\t\t\tip: action.data.ip,\n\t\t}\n\tcase 'PROFILE':\n\t\treturn {\n\t\t\t...state,\n\t\t\temail: action.data.email,\n\t\t\tusername: action.data.username,\n\t\t\tfirstname: action.data.firstname,\n\t\t\tlastname: action.data.lastname,\n\t\t\tgender: action.data.gender,\n\t\t\ttoken: action.data.token,\n\t\t\torientation: parse.oFromDb(action.data.orientation),\n\t\t\tbio: action.data.bio,\n\t\t\ttags: parse.parseTags(action.data.tags),\n\t\t\tuserComplete: (action.data.gender && action.data.orientation ? true : false),\n\t\t\tlatitude: action.data.latitude,\n\t\t\tlongitude: action.data.longitude,\n\t\t\tavatar: action.data.avatar,\n\t\t}\n\tcase 'PHOTO':\n\t\treturn {\n\t\t\t...state,\n\t\t\tavatar: action.data.blob,\n\t\t}\n\tdefault:\n\t\treturn state\n\t}\n}\n\nexport const login = (credentials) => {\n\treturn async dispatch => {\n\t\tlet data\n\t\ttry {\n\t\t\tdata = await loginService.login(credentials)\n\t\t\tdispatch({\n\t\t\t\ttype: 'LOGIN',\n\t\t\t\tdata\n\t\t\t})\n\t\t\tdispatch({\n\t\t\t\ttype: 'CLEAR',\n\t\t\t})\n\t\t} catch (error) {\n\t\t\tif (error.response && error.response.data) {\n\t\t\t\tdata = error.response.data.error\n\t\t\t} else {\n\t\t\t\tdata = 'Database error'\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: 'ERROR',\n\t\t\t\tdata,\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport const update = (input, id) => {\n\treturn async dispatch => {\n\t\tlet data\n\t\ttry {\n\t\t\tdata = await userService.updateProfile(input, id)\n\t\t\tdispatch({\n\t\t\t\ttype: 'PROFILE',\n\t\t\t\tdata\n\t\t\t})\n\t\t\tdispatch({\n\t\t\t\ttype: 'NOTIF',\n\t\t\t\tdata: 'Profile updated'\n\t\t\t})\n\t\t} catch (error) {\n\t\t\tif (error.response && error.response.data) {\n\t\t\t\tdata = error.response.data.error\n\t\t\t} else {\n\t\t\t\tdata = 'Database error'\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: 'ERROR',\n\t\t\t\tdata,\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport const forgot = (email) => {\n\treturn async dispatch => {\n\t\tlet data\n\t\ttry {\n\t\t\tdata = await forgotService.forgot(email)\n\t\t\tdispatch({\n\t\t\t\ttype: 'NOTIF',\n\t\t\t\tdata: data.message\n\t\t\t})\n\t\t} catch (error) {\n\t\t\tif (error.response && error.response.data) {\n\t\t\t\tdata = error.response.data.error\n\t\t\t} else {\n\t\t\t\tdata = 'Database error'\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: 'ERROR',\n\t\t\t\tdata,\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport const reset = (password) => {\n\treturn async dispatch => {\n\t\tlet data\n\t\ttry {\n\t\t\tdata = await forgotService.reset(password)\n\t\t\tdispatch({\n\t\t\t\ttype: 'NOTIF',\n\t\t\t\tdata: data.message\n\t\t\t})\n\t\t} catch (error) {\n\t\t\tif (error.response && error.response.data) {\n\t\t\t\tdata = error.response.data.error\n\t\t\t} else {\n\t\t\t\tdata = 'Database error'\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: 'ERROR',\n\t\t\t\tdata,\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport const lookup = () => {\n\treturn async dispatch => {\n\t\tconst coords = await axios.get('https://geolocation-db.com/json/')\n\t\tconst data = {\n\t\t\tip: coords.data.IPv4,\n\t\t}\n\t\tdispatch({\n\t\t\ttype: 'LOOKUP',\n\t\t\tdata\n\t\t})\n\t}\n}\n\nexport default userReducer","import axios from 'axios'\nimport auth from '../utils/auth'\n\nconst baseUrl = 'http://localhost:3001/api/tags'\n\nconst getTags = async () => {\n\tconst response = await axios.get(baseUrl, auth.config())\n\treturn response.data\n}\n\nconst addTags = async (update) => {\n\tconst response = await axios.post(baseUrl, update, auth.config())\n\treturn response.data\n}\n\nexport default { getTags, addTags }","import userService from '../services/users'\nimport tagsService from '../services/tags'\nimport { getDistance, convertDistance } from 'geolib'\nimport parse from '../utils/parse'\n\nconst initialState = {\n\tids: null,\n\tusers: [],\n\tprofile: null,\n\tsortFilter: null,\n\tallTags: null,\n\tfilterTags: [],\n\tfilterSliders: {\n\t\tdistance: 500,\n\t\tage: [16, 100],\n\t\tfame: [0, 500],\n\t},\n\tloadingApp: true,\n\tloadingUsers: true,\n}\n\nconst publicReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\tcase 'SETTAGS':\n\t\treturn {\n\t\t\t...state,\n\t\t\tallTags: parse.parseTags(action.data),\n\t\t}\n\tcase 'SETFILTERTAGS':\n\t\treturn {\n\t\t\t...state,\n\t\t\tfilterTags: action.data,\n\t\t}\n\tcase 'SETSLIDERS':\n\t\treturn {\n\t\t\t...state,\n\t\t\tfilterSliders: action.data,\n\t\t}\n\tcase 'RESETFILTERS':\n\t\treturn {\n\t\t\t...state,\n\t\t\tfilterSliders: initialState.filterSliders,\n\t\t\tfilterTags: initialState.filterTags,\n\t\t}\n\tcase 'SETSORT':\n\t\treturn {\n\t\t\t...state,\n\t\t\tsortFilter: action.data.sortFilter,\n\t\t}\n\tcase 'SETUSERS':\n\t\treturn {\n\t\t\t...state,\n\t\t\tusers: action.data,\n\t\t}\n\tcase 'SETIDS':\n\t\treturn {\n\t\t\t...state,\n\t\t\tids: action.data,\n\t\t}\n\tcase 'LOADINGAPP':\n\t\treturn {\n\t\t\t...state,\n\t\t\tloadingApp: action.data,\n\t\t}\n\tcase 'LOADINGUSERS':\n\t\treturn {\n\t\t\t...state,\n\t\t\tloadingUsers: action.data,\n\t\t}\n\tcase 'SETPROFILE':\n\t\treturn {\n\t\t\t...state,\n\t\t\tprofile: action.data,\n\t\t}\n\tdefault:\n\t\treturn state\n\t}\n}\n\nexport const getUsers = (filter, sliders, sort, tags, latitude, longitude, blocks) => {\n\treturn async dispatch => {\n\t\tlet data\n\t\ttry {\n\t\t\tdata = await userService.getUsers()\n\t\t\t//filter blocked users\n\t\t\tif (blocks.length) {\n\t\t\t\tdata = data.filter(i => !blocks.map(b => b.receiver).includes(i.id))\n\t\t\t}\n\t\t\t//parse user fields\n\t\t\tdata.map(user => {\n\t\t\t\tuser.orientation = parse.oFromDb(user.orientation)\n\t\t\t\tuser.tags = parse.parseTags(user.tags)\n\t\t\t})\n\t\t\t//filter by tags\n\t\t\tif (filter.length) {\n\t\t\t\tdata = data.filter(user => filter.every(tag => user.tags.includes(tag)))\n\t\t\t}\n\t\t\t//filter by sliders\n\t\t\tif (sliders) {\n\t\t\t\tif (sliders.distance) {\n\t\t\t\t\tdata = data.filter(user => {\n\t\t\t\t\t\tuser.distance = getDistance(\n\t\t\t\t\t\t\t{ latitude: user.latitude, longitude: user.longitude },\n\t\t\t\t\t\t\t{ latitude: latitude, longitude: longitude }\n\t\t\t\t\t\t)\n\t\t\t\t\t\tuser.distance = Math.ceil(convertDistance(user.distance, 'km'))\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t(user.distance <= sliders.distance)\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tif (sliders.age) {\n\t\t\t\t\tdata = data.filter(user => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t(user.age >= sliders.age[0] && user.age <= sliders.age[1])\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tif (sliders.fame) {\n\t\t\t\t\tdata = data.filter(user => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t(user.fame >= sliders.fame[0] && user.fame <= sliders.fame[1])\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\t//sort\n\t\t\tif (sort === 'distance (ascending)') {\n\t\t\t\tdata = data.sort((a,b) => {\n\t\t\t\t\ta.distance = getDistance(\n\t\t\t\t\t\t{ latitude: a.latitude, longitude: a.longitude },\n\t\t\t\t\t\t{ latitude: latitude, longitude: longitude }\n\t\t\t\t\t)\n\t\t\t\t\tb.distance = getDistance(\n\t\t\t\t\t\t{ latitude: b.latitude, longitude: b.longitude },\n\t\t\t\t\t\t{ latitude: latitude, longitude: longitude }\n\t\t\t\t\t)\n\t\t\t\t\treturn (\n\t\t\t\t\t\t(a.distance - b.distance)\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t} else if (sort === 'distance (descending)') {\n\t\t\t\tdata = data.sort((a,b) => {\n\t\t\t\t\ta.distance = getDistance(\n\t\t\t\t\t\t{ latitude: a.latitude, longitude: a.longitude },\n\t\t\t\t\t\t{ latitude: latitude, longitude: longitude }\n\t\t\t\t\t)\n\t\t\t\t\tb.distance = getDistance(\n\t\t\t\t\t\t{ latitude: b.latitude, longitude: b.longitude },\n\t\t\t\t\t\t{ latitude: latitude, longitude: longitude }\n\t\t\t\t\t)\n\t\t\t\t\treturn (\n\t\t\t\t\t\t(b.distance - a.distance)\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t} else if (sort === 'fame (ascending)') {\n\t\t\t\tdata = data.sort((a,b) => {\n\t\t\t\t\treturn a.fame - b.fame\n\t\t\t\t})\n\t\t\t} else if (sort === 'fame (descending)') {\n\t\t\t\tdata = data.sort((a,b) => {\n\t\t\t\t\treturn b.fame - a.fame\n\t\t\t\t})\n\t\t\t} else if (sort === 'age (ascending)') {\n\t\t\t\tdata = data.sort((a,b) => {\n\t\t\t\t\treturn a.age - b.age\n\t\t\t\t})\n\t\t\t} else if (sort === 'age (descending)') {\n\t\t\t\tdata = data.sort((a,b) => {\n\t\t\t\t\treturn b.age - a.age\n\t\t\t\t})\n\t\t\t} else if (sort === 'tags in common') {\n\t\t\t\tlet matches = data.filter(user => tags.some(tag => user.tags.includes(tag)))\n\t\t\t\tmatches = matches.sort((a,b) => {\n\t\t\t\t\ta.matches = a.tags.filter(tag => tags.some(v => tag.includes(v)))\n\t\t\t\t\tb.matches = b.tags.filter(tag => tags.some(v => tag.includes(v)))\n\t\t\t\t\treturn (\n\t\t\t\t\t\t(b.matches.length - a.matches.length)\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t\tdata = data.filter(user => !matches.map(i => i.id).includes(user.id))\n\t\t\t\tdata = matches.concat(data)\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: 'SETUSERS',\n\t\t\t\tdata\n\t\t\t})\n\t\t} catch (error) {\n\t\t\tif (error.response && error.response.data) {\n\t\t\t\tdata = error.response.data.error\n\t\t\t} else {\n\t\t\t\tdata = 'Database error'\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: 'ERROR',\n\t\t\t\tdata,\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport const getUserById = (id) => {\n\treturn async dispatch => {\n\t\tlet data\n\t\ttry {\n\t\t\tdata = await userService.getUsers()\n\t\t\tdata = data.find(user => user.id === id)\n\t\t\tdata.orientation = parse.oFromDb(data.orientation)\n\t\t\tdata.tags = parse.parseTags(data.tags)\n\t\t\tdispatch({\n\t\t\t\ttype: 'SETPROFILE',\n\t\t\t\tdata\n\t\t\t})\n\t\t} catch (error) {\n\t\t\tif (error.response && error.response.data) {\n\t\t\t\tdata = error.response.data.error\n\t\t\t} else {\n\t\t\t\tdata = 'Database error'\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: 'ERROR',\n\t\t\t\tdata,\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport const getUserIds = (blocks) => {\n\treturn async dispatch => {\n\t\tlet data\n\t\tlet ids = []\n\t\ttry {\n\t\t\tdata = await userService.getUsers()\n\t\t\tdata.map(user => ids.push(user.id))\n\t\t\tif (blocks.length) {\n\t\t\t\tids = ids.filter(i => !blocks.map(b => b.receiver).includes(i))\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: 'SETIDS',\n\t\t\t\tdata: ids\n\t\t\t})\n\t\t\tdispatch({\n\t\t\t\ttype: 'LOADINGAPP',\n\t\t\t\tdata: false\n\t\t\t})\n\t\t} catch (error) {\n\t\t\tif (error.response && error.response.data) {\n\t\t\t\tdata = error.response.data.error\n\t\t\t} else {\n\t\t\t\tdata = 'Database error'\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: 'ERROR',\n\t\t\t\tdata,\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport const getTags = () => {\n\treturn async dispatch => {\n\t\tlet data\n\t\ttry {\n\t\t\tdata = await tagsService.getTags()\n\t\t\tdispatch({\n\t\t\t\ttype: 'SETTAGS',\n\t\t\t\tdata\n\t\t\t})\n\t\t} catch (error) {\n\t\t\tif (error.response && error.response.data) {\n\t\t\t\tdata = error.response.data.error\n\t\t\t} else {\n\t\t\t\tdata = 'Database error'\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: 'ERROR',\n\t\t\t\tdata,\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport const updateTags = (newTags) => {\n\treturn async dispatch => {\n\t\tlet data\n\t\ttry {\n\t\t\tdata = await tagsService.getTags()\n\n\t\t\tconst currentTags = parse.parseTags(data)\n\t\t\tconst filteredTags = Array.from(new Set(currentTags.concat(newTags)))\n\t\t\tconst updateStr = filteredTags ? filteredTags.map(t => t).join('') : ''\n\n\t\t\tawait tagsService.addTags({ tags: updateStr })\n\t\t\tdata = await tagsService.getTags()\n\t\t\tdispatch({\n\t\t\t\ttype: 'SETTAGS',\n\t\t\t\tdata\n\t\t\t})\n\t\t} catch (error) {\n\t\t\tif (error.response && error.response.data) {\n\t\t\t\tdata = error.response.data.error\n\t\t\t} else {\n\t\t\t\tdata = 'Database error'\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: 'ERROR',\n\t\t\t\tdata,\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport default publicReducer","import axios from 'axios'\nimport auth from '../utils/auth'\n\nconst baseUrl = 'http://localhost:3001/api/views'\n\nconst getViews = async () => {\n\tconst response = await axios.get(baseUrl, auth.config())\n\treturn response.data\n}\n\nconst addView = async (newView) => {\n\tconst response = await axios.post(baseUrl, newView, auth.config())\n\treturn response.data\n}\n\nexport default { getViews, addView }","import axios from 'axios'\nimport auth from '../utils/auth'\n\nconst baseUrl = 'http://localhost:3001/api/likes'\n\nconst getLikes = async () => {\n\tconst response = await axios.get(baseUrl, auth.config())\n\treturn response.data\n}\n\nconst addLike = async (newLike) => {\n\tconst response = await axios.post(baseUrl, newLike, auth.config())\n\treturn response.data\n}\n\nconst updateRead = async (like) => {\n\tconst response = await axios.put(`${baseUrl}/${like.from}`, like, auth.config())\n\treturn response.data\n}\n\nconst removeLike = async (like) => {\n\tconst headers = auth.config()\n\tconst response = await axios.delete(`${baseUrl}/${like.id}`, { headers: headers.headers, data: like })\n\treturn response.data\n}\n\nexport default { getLikes, addLike, updateRead, removeLike }","import axios from 'axios'\nimport auth from '../utils/auth'\n\nconst baseUrl = 'http://localhost:3001/api/reports'\n\nconst getReports = async () => {\n\tconst response = await axios.get(baseUrl, auth.config())\n\treturn response.data\n}\n\nconst addReport = async (newReport) => {\n\tconst response = await axios.post(baseUrl, newReport, auth.config())\n\treturn response.data\n}\n\nexport default { getReports, addReport }","import axios from 'axios'\nimport auth from '../utils/auth'\n\nconst baseUrl = 'http://localhost:3001/api/blocks'\n\nconst getBlocks = async () => {\n\tconst response = await axios.get(baseUrl, auth.config())\n\treturn response.data\n}\n\nconst addBlock = async (newBlock) => {\n\tconst response = await axios.post(baseUrl, newBlock, auth.config())\n\treturn response.data\n}\n\nconst removeBlock = async (block) => {\n\tconst headers = auth.config()\n\tconst response = await axios.delete(`${baseUrl}/${block.id}`, { headers: headers.headers, data: block })\n\treturn response.data\n}\n\nexport default { getBlocks, addBlock, removeBlock }","import axios from 'axios'\nimport auth from '../utils/auth'\n\nconst baseUrl = 'http://localhost:3001/api/matches'\nconst likesUrl = 'http://localhost:3001/api/matches/likes'\n\nconst getMatches = async () => {\n\tconst response = await axios.get(baseUrl, auth.config())\n\treturn response.data\n}\n\nconst getPublicLikes = async () => {\n\tconst response = await axios.get(likesUrl, auth.config())\n\treturn response.data\n}\n\nexport default { getMatches, getPublicLikes }","import axios from 'axios'\nimport auth from '../utils/auth'\n\nconst baseUrl = 'http://localhost:3001/api/messages'\n\nconst getMessages = async () => {\n\tconst response = await axios.get(baseUrl, auth.config())\n\treturn response.data\n}\n\nconst addMessage = async (newMessage) => {\n\tconst response = await axios.post(baseUrl, newMessage, auth.config())\n\treturn response.data\n}\n\nconst updateMessages = async (message) => {\n\tconst response = await axios.put(`${baseUrl}/${message.receiver}`, message, auth.config())\n\treturn response.data\n}\n\nexport default { getMessages, addMessage, updateMessages }","import axios from 'axios'\nimport auth from '../utils/auth'\n\nconst baseUrl = 'http://localhost:3001/api/notif'\n\nconst getNotif = async () => {\n\tconst response = await axios.get(baseUrl, auth.config())\n\treturn response.data\n}\n\nconst addNotif = async (newNotif) => {\n\tconst response = await axios.post(baseUrl, newNotif, auth.config())\n\treturn response.data\n}\n\nconst updateNotif = async (notif, id) => {\n\tconst response = await axios.put(`${baseUrl}/${id}`, notif, auth.config())\n\treturn response.data\n}\n\nexport default { getNotif, addNotif, updateNotif }","import viewService from '../services/views'\nimport likeService from '../services/likes'\nimport reportService from '../services/reports'\nimport blockService from '../services/blocks'\nimport matchService from '../services/matches'\nimport messageService from '../services/messages'\nimport notifService from '../services/notifications'\nimport parse from '../utils/parse'\n\nimport io from 'socket.io-client'\nconst endpoint = process.env.REACT_APP_ENDPOINT\nconst socket = io(endpoint)\n\nconst initialState = {\n\tlikes: [],\n\tpublicLikes: [],\n\treports: [],\n\tblocks: null,\n\tlog: [],\n\tnotif: [],\n\tmatches: [],\n}\n\nconst matchReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\tcase 'SETLIKES':\n\t\treturn {\n\t\t\t...state,\n\t\t\tlikes: action.data\n\t\t}\n\tcase 'SETREPORTS':\n\t\treturn {\n\t\t\t...state,\n\t\t\treports: action.data\n\t\t}\n\tcase 'SETBLOCKS':\n\t\treturn {\n\t\t\t...state,\n\t\t\tblocks: action.data\n\t\t}\n\tcase 'SETLOG':\n\t\treturn {\n\t\t\t...state,\n\t\t\tlog: action.data\n\t\t}\n\tcase 'SETNOTIF':\n\t\treturn {\n\t\t\t...state,\n\t\t\tnotif: action.data\n\t\t}\n\tcase 'SETPUBLICLIKES':\n\t\treturn {\n\t\t\t...state,\n\t\t\tpublicLikes: action.data\n\t\t}\n\tcase 'SETMATCHES':\n\t\treturn {\n\t\t\t...state,\n\t\t\tmatches: action.data\n\t\t}\n\tdefault:\n\t\treturn state\n\t}\n}\n\nexport const getHistory = () => {\n\treturn async dispatch => {\n\t\tlet data\n\t\ttry {\n\t\t\tdata = await likeService.getLikes()\n\t\t\tdispatch({\n\t\t\t\ttype: 'SETLIKES',\n\t\t\t\tdata\n\t\t\t})\n\t\t\tdata = await reportService.getReports()\n\t\t\tdispatch({\n\t\t\t\ttype: 'SETREPORTS',\n\t\t\t\tdata\n\t\t\t})\n\t\t\tdata = await blockService.getBlocks()\n\t\t\tdispatch({\n\t\t\t\ttype: 'SETBLOCKS',\n\t\t\t\tdata\n\t\t\t})\n\t\t} catch (error) {\n\t\t\tif (error.response && error.response.data) {\n\t\t\t\tdata = error.response.data.error\n\t\t\t} else {\n\t\t\t\tdata = 'Database error'\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: 'ERROR',\n\t\t\t\tdata,\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport const getLikes = () => {\n\treturn async dispatch => {\n\t\tlet data\n\t\ttry {\n\t\t\tdata = await likeService.getLikes()\n\t\t\tdispatch({\n\t\t\t\ttype: 'SETLIKES',\n\t\t\t\tdata\n\t\t\t})\n\t\t} catch (error) {\n\t\t\tif (error.response && error.response.data) {\n\t\t\t\tdata = error.response.data.error\n\t\t\t} else {\n\t\t\t\tdata = 'Database error'\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: 'ERROR',\n\t\t\t\tdata,\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport const getMatches = () => {\n\treturn async dispatch => {\n\t\tlet data\n\t\ttry {\n\t\t\tdata = await matchService.getMatches()\n\t\t\tdata.map(i => {\n\t\t\t\ti.orientation = parse.oFromDb(i.orientation)\n\t\t\t\ti.tags = parse.parseTags(i.tags)\n\t\t\t})\n\t\t\tconst blocks = await blockService.getBlocks()\n\t\t\tif (blocks && blocks.length) {\n\t\t\t\tdata = data.filter(i => !blocks.map(b => b.receiver).includes(i.id))\n\t\t\t}\n\t\t\tconst chat = await messageService.getMessages()\n\t\t\tdata.map(i => {\n\t\t\t\ti.chat = chat.filter(m => m.sender === i.id || m.receiver === i.id)\n\t\t\t})\n\t\t\tdata = data.sort((a,b) => {\n\t\t\t\ta.latest = a.chat.length ? a.chat[a.chat.length - 1].created_at : a.created_at\n\t\t\t\tb.latest = b.chat.length ? b.chat[b.chat.length - 1].created_at : b.created_at\n\t\t\t\treturn (\n\t\t\t\t\tnew Date(b.latest) - new Date(a.latest)\n\t\t\t\t)\n\t\t\t})\n\t\t\tdispatch({\n\t\t\t\ttype: 'SETMATCHES',\n\t\t\t\tdata\n\t\t\t})\n\t\t\tconst likes = await matchService.getPublicLikes()\n\t\t\tdispatch({\n\t\t\t\ttype: 'SETPUBLICLIKES',\n\t\t\t\tdata: likes\n\t\t\t})\n\t\t} catch (error) {\n\t\t\tif (error.response && error.response.data) {\n\t\t\t\tdata = error.response.data.error\n\t\t\t} else {\n\t\t\t\tdata = 'Database error'\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: 'ERROR',\n\t\t\t\tdata,\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport const getNotif = (id) => {\n\treturn async dispatch => {\n\t\tlet data\n\t\ttry {\n\t\t\tdata = await notifService.getNotif()\n\t\t\tconst blocks = await blockService.getBlocks()\n\t\t\tif (blocks && blocks.length) {\n\t\t\t\tdata = data.filter(i => !blocks.map(b => b.receiver).includes(i.sender))\n\t\t\t}\n\t\t\tdata = data.filter(i => i.receiver === id)\n\t\t\tdata = data.filter(i => i.action === 'view' || i.action === 'like' || i.action === 'unlike' )\n\t\t\tdata = data.reverse()\n\t\t\tdispatch({\n\t\t\t\ttype: 'SETNOTIF',\n\t\t\t\tdata\n\t\t\t})\n\t\t} catch (error) {\n\t\t\tif (error.response && error.response.data) {\n\t\t\t\tdata = error.response.data.error\n\t\t\t} else {\n\t\t\t\tdata = 'Database error'\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: 'ERROR',\n\t\t\t\tdata,\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport const getLog = (id) => {\n\treturn async dispatch => {\n\t\tlet data\n\t\ttry {\n\t\t\tdata = await notifService.getNotif()\n\t\t\tdata = data.filter(i => i.sender === id)\n\t\t\tdata.map(i => {\n\t\t\t\tswitch(i.action) {\n\t\t\t\tcase 'view':\n\t\t\t\t\treturn i.action = 'Viewed'\n\t\t\t\tcase 'like':\n\t\t\t\t\treturn i.action = 'Liked'\n\t\t\t\tcase 'unlike':\n\t\t\t\t\treturn i.action = 'Unliked'\n\t\t\t\tcase 'report':\n\t\t\t\t\treturn i.action = 'Reported'\n\t\t\t\tcase 'block':\n\t\t\t\t\treturn i.action = 'Blocked'\n\t\t\t\tcase 'unblock':\n\t\t\t\t\treturn i.action = 'Unblocked'\n\t\t\t\t}\n\t\t\t})\n\t\t\tdata = data.reverse()\n\t\t\tdispatch({\n\t\t\t\ttype: 'SETLOG',\n\t\t\t\tdata\n\t\t\t})\n\t\t} catch (error) {\n\t\t\tif (error.response && error.response.data) {\n\t\t\t\tdata = error.response.data.error\n\t\t\t} else {\n\t\t\t\tdata = 'Database error'\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: 'ERROR',\n\t\t\t\tdata,\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport const profileView = (view) => {\n\treturn async dispatch => {\n\t\tlet data\n\t\ttry {\n\t\t\tawait viewService.addView(view)\n\t\t\tawait notifService.addNotif({ action: 'view', sender: view.from, receiver: view.to })\n\t\t\tsocket.emit('sendNotification', { action: 'view', sender: view.from, receiver: view.to }, (error) => {\n\t\t\t\tif (error) {\n\t\t\t\t\tconsole.log(error)\n\t\t\t\t}\n\t\t\t})\n\t\t} catch (error) {\n\t\t\tif (error.response && error.response.data) {\n\t\t\t\tdata = error.response.data.error\n\t\t\t} else {\n\t\t\t\tdata = 'Database error'\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: 'ERROR',\n\t\t\t\tdata,\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport const profileLike = (like) => {\n\treturn async dispatch => {\n\t\tlet data\n\t\ttry {\n\t\t\tif (like.type === 'new') {\n\t\t\t\tawait likeService.addLike(like)\n\t\t\t\tawait notifService.addNotif({ action: 'like', sender: like.from, receiver: like.to })\n\t\t\t\tsocket.emit('sendNotification', { action: 'like', sender: like.from, receiver: like.to }, (error) => {\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\tconsole.log(error)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else if (like.type === 'remove') {\n\t\t\t\tawait likeService.removeLike(like)\n\t\t\t\tawait notifService.addNotif({ action: 'unlike', sender: like.from, receiver: like.to })\n\t\t\t\tsocket.emit('sendNotification', { action: 'unlike', sender: like.from, receiver: like.to }, (error) => {\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\tconsole.log(error)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else if (like.type === 'read') {\n\t\t\t\tawait likeService.updateRead(like)\n\t\t\t}\n\t\t\tdata = await likeService.getLikes()\n\t\t\tdispatch({\n\t\t\t\ttype: 'SETLIKES',\n\t\t\t\tdata\n\t\t\t})\n\t\t} catch (error) {\n\t\t\tif (error.response && error.response.data) {\n\t\t\t\tdata = error.response.data.error\n\t\t\t} else {\n\t\t\t\tdata = 'Database error'\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: 'ERROR',\n\t\t\t\tdata,\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport const profileReport = (report) => {\n\treturn async dispatch => {\n\t\tlet data\n\t\ttry {\n\t\t\tawait reportService.addReport(report)\n\t\t\tawait notifService.addNotif({ action: 'report', sender: report.from, receiver: report.to })\n\t\t\tdata = await reportService.getReports()\n\t\t\tdispatch({\n\t\t\t\ttype: 'SETREPORTS',\n\t\t\t\tdata\n\t\t\t})\n\t\t} catch (error) {\n\t\t\tif (error.response && error.response.data) {\n\t\t\t\tdata = error.response.data.error\n\t\t\t} else {\n\t\t\t\tdata = 'Database error'\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: 'ERROR',\n\t\t\t\tdata,\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport const profileBlock = (block) => {\n\treturn async dispatch => {\n\t\tlet data\n\t\ttry {\n\t\t\tif (block.type === 'new') {\n\t\t\t\tawait blockService.addBlock(block)\n\t\t\t\tawait notifService.addNotif({ action: 'block', sender: block.from, receiver: block.to })\n\t\t\t} else if (block.type === 'remove') {\n\t\t\t\tawait blockService.removeBlock(block)\n\t\t\t\tawait notifService.addNotif({ action: 'unblock', sender: block.from, receiver: block.to })\n\t\t\t}\n\t\t\tdata = await blockService.getBlocks()\n\t\t\tdispatch({\n\t\t\t\ttype: 'SETBLOCKS',\n\t\t\t\tdata\n\t\t\t})\n\t\t\tconst likes = await likeService.getLikes()\n\t\t\tconst isLiked = likes.find(i => i.receiver === block.to)\n\t\t\tif (isLiked) {\n\t\t\t\tawait dispatch(profileLike({ from: isLiked.sender, to: isLiked.receiver, type: 'remove', id: isLiked.id }))\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tif (error.response && error.response.data) {\n\t\t\t\tdata = error.response.data.error\n\t\t\t} else {\n\t\t\t\tdata = 'Database error'\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: 'ERROR',\n\t\t\t\tdata,\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport const chatMessage = (message) => {\n\treturn async dispatch => {\n\t\tlet data\n\t\ttry {\n\t\t\tif (message.type === 'new') {\n\t\t\t\tawait messageService.addMessage(message)\n\t\t\t\tsocket.emit('sendMessage', { message }, (error) => {\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\tconsole.log(error)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else if (message.type === 'read') {\n\t\t\t\tawait messageService.updateMessages(message)\n\t\t\t}\n\t\t\tdispatch(getMatches())\n\t\t} catch (error) {\n\t\t\tif (error.response && error.response.data) {\n\t\t\t\tdata = error.response.data.error\n\t\t\t} else {\n\t\t\t\tdata = 'Database error'\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: 'ERROR',\n\t\t\t\tdata,\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport const readNotif = (notif, id) => {\n\treturn async dispatch => {\n\t\tlet data\n\t\ttry {\n\t\t\tawait notifService.updateNotif(notif, id)\n\t\t\tawait dispatch(getNotif(id))\n\t\t} catch (error) {\n\t\t\tif (error.response && error.response.data) {\n\t\t\t\tdata = error.response.data.error\n\t\t\t} else {\n\t\t\t\tdata = 'Database error'\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: 'ERROR',\n\t\t\t\tdata,\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport default matchReducer","import { createStore, combineReducers, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport { composeWithDevTools } from 'redux-devtools-extension'\n\nimport formReducer from './reducers/formReducer'\nimport userReducer from './reducers/userReducer'\nimport publicReducer from './reducers/publicReducer'\nimport matchReducer from './reducers/matchReducer'\n\nconst reducer = combineReducers({\n\tform: formReducer,\n\tuser: userReducer,\n\tpublic: publicReducer,\n\tmatch: matchReducer,\n})\n\nconst store = createStore(\n\treducer,\n\tcomposeWithDevTools(\n\t\tapplyMiddleware(thunk)\n\t)\n)\n\nexport default store","import { Link } from 'react-router-dom'\nimport { HeartIcon, LogoutIcon, LoginIcon } from '@heroicons/react/outline'\nimport { UserCircleIcon, ChatIcon, UserAddIcon, BellIcon } from '@heroicons/react/solid'\nimport { useSelector } from 'react-redux'\nimport loginService from '../../services/login'\nimport { useEffect, useState } from 'react'\n\nconst Header = () => {\n\tconst { loggedIn, id } = useSelector(state => state.user)\n\tconst { matches, notif, likes } = useSelector(state => state.match)\n\tconst [unreadMessages, setUnreadMessages] = useState(null)\n\tconst [unreadNotif, setUnreadNotif] = useState(null)\n\n\tuseEffect(() => {\n\t\tif (matches && likes) {\n\t\t\tlet count = 0\n\t\t\tmatches.map(i => {\n\t\t\t\tconst like = likes.find(l => l.receiver === i.id)\n\t\t\t\tif (i.chat.length) {\n\t\t\t\t\tconst len = i.chat.filter(message => message.receiver === id && message.status === 0)\n\t\t\t\t\tif (len && len.length) {\n\t\t\t\t\t\tcount += len.length\n\t\t\t\t\t} else if (like && like.is_seen === 0) {\n\t\t\t\t\t\tcount++\n\t\t\t\t\t}\n\t\t\t\t} else if (like && like.is_seen === 0) {\n\t\t\t\t\tcount++\n\t\t\t\t}\n\t\t\t})\n\t\t\tif (count) {\n\t\t\t\tcount < 99 ? setUnreadMessages(count) : setUnreadMessages(99)\n\t\t\t} else {\n\t\t\t\tsetUnreadMessages(null)\n\t\t\t}\n\t\t}\n\t}, [matches, likes])\n\n\tuseEffect(() => {\n\t\tif (notif) {\n\t\t\tlet count = 0\n\t\t\tnotif.map(i => i.status === 0 ? count++ : null)\n\t\t\tif (count) {\n\t\t\t\tcount < 99 ? setUnreadNotif(count) : setUnreadNotif(99)\n\t\t\t} else {\n\t\t\t\tsetUnreadNotif(null)\n\t\t\t}\n\t\t}\n\t}, [notif])\n\n\tconst blur = {\n\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\tbackdropFilter: 'blur(5px)',\n\t}\n\n\tconst divStyle = {\n\t\theight: '32px',\n\t\twidth: '32px',\n\t\tpadding: '1px',\n\t}\n\n\tconst imgStyle = {\n\t\theight: '100%',\n\t\twidth: '100%',\n\t\tborderRadius: '50%',\n\t\tobjectFit: 'cover',\n\t\tborderWidth: '1px',\n\t\tborderColor: '#dae4e9',\n\t}\n\n\treturn (\n\t\t<header className=\"h-16 w-full flex justify-center fixed top-0 left-0 right-0 z-50 ui-shadow\" style={blur}>\n\t\t\t<section className=\"w-full max-w-screen-lg flex justify-between items-center mx-4\">\n\t\t\t\t<section className=\"flex items-center\">\n\t\t\t\t\t<Link to='/' className='flex items-center hover:opacity-50 select-none'>\n\t\t\t\t\t\t<p className=\"text-2xl\">matcha </p>\n\t\t\t\t\t\t<HeartIcon className=' h-6 w-6' />\n\t\t\t\t\t</Link>\n\t\t\t\t</section>\n\t\t\t\t{loggedIn\n\t\t\t\t\t? <section className=\"flex items-center\">\n\t\t\t\t\t\t<Link to='/notif' className='flex flex-col items-center mx-2 xs:mx-4 hover:opacity-50 select-none relative'>\n\t\t\t\t\t\t\t<BellIcon className=' h-8 w-8' />\n\t\t\t\t\t\t\t<p className='hidden sm:block'>notifications</p>\n\t\t\t\t\t\t\t{unreadNotif &&\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName='absolute w-6 h-6 top-1/2 sm:top-1/3 left-full sm:left-2/3 transform -translate-x-1/2 -translate-y-1/2 rounded-full inline-block text-white bg-red-500 text-center'\n\t\t\t\t\t\t\t\t\tstyle={{ lineHeight: '1.5rem' }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span className='z-10 relative'>\n\t\t\t\t\t\t\t\t\t\t{unreadNotif}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span className='z-0 absolute bg-red-500 animate-ping w-6 h-6 top-0 left-0 rounded-full'></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<Link to='/matches' className='flex flex-col items-center mx-2 xs:mx-4 hover:opacity-50 select-none relative'>\n\t\t\t\t\t\t\t<ChatIcon className=' h-8 w-8' />\n\t\t\t\t\t\t\t<p className='hidden sm:block'>matches</p>\n\t\t\t\t\t\t\t{unreadMessages &&\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName='absolute w-6 h-6 top-1/2 sm:top-1/3 left-full sm:left-2/3 sm:ml-2 transform -translate-x-1/2 -translate-y-1/2 rounded-full inline-block text-white bg-red-500 text-center'\n\t\t\t\t\t\t\t\t\tstyle={{ lineHeight: '1.5rem' }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span className='z-10 relative'>\n\t\t\t\t\t\t\t\t\t\t{unreadMessages}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span className='z-0 absolute bg-red-500 animate-ping w-6 h-6 top-0 left-0 rounded-full'></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<Link to='/profile' className='flex flex-col items-center mx-2 xs:mx-4 hover:opacity-50 select-none'>\n\t\t\t\t\t\t\t<UserCircleIcon className=' h-8 w-8' />\n\t\t\t\t\t\t\t<p className='hidden sm:block'>profile</p>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<section className='flex flex-col items-center ml-2 xs:ml-4 hover:opacity-50 cursor-pointer select-none' onClick={() => loginService.logout()} >\n\t\t\t\t\t\t\t<LogoutIcon className=' h-8 w-8' />\n\t\t\t\t\t\t\t<p className='hidden sm:block'>logout</p>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t</section>\n\t\t\t\t\t: <section className=\"flex items-center\">\n\t\t\t\t\t\t<Link to='/signup' className='flex flex-col items-center mx-2 xs:mx-4 hover:opacity-50'>\n\t\t\t\t\t\t\t<UserAddIcon className=' h-8 w-8 mx-2' />\n\t\t\t\t\t\t\t<p className=\"\">signup</p>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<Link to='/login' className='flex flex-col items-center ml-2 xs:ml-4 hover:opacity-50'>\n\t\t\t\t\t\t\t<LoginIcon className=' h-8 w-8 mx-2' />\n\t\t\t\t\t\t\t<p className=\"\">login</p>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</section>\n\t\t\t\t}\n\t\t\t</section>\n\t\t</header>\n\t)\n}\n\nexport default Header","const Footer = () => (\n\t<footer className=\"h-16 w-full flex flex-col justify-center items-center\">\n\t\t<div className=\"flex flex-row text-center justify-center flex-wrap select-none\">\n\t\t\t<span >Made at&nbsp;</span>\n\t\t\t<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" style={{ height: 32, width: 121 }} ><path d=\"M115.89,13.7H97.74v-.06C98,9.89,101.46,6,106.81,6c5.1-.1,8.81,3.86,9.07, 7.62Zm.94-8A14.46,14.46,0,0,0,96.58,6a14.39,14.39,0,0,0-4.07,10.11,14.19,14.19, 0,0,0,14.35,14.3,13.71,13.71,0,0,0,7.72-2.29A14.75,14.75,0,0,0,120,21.45h-5.27a8.53,8.53, 0,0,1-7.9,4.61c-4.28,0-9-2.93-9.22-8.36v-.07h23.28A14.51,14.51,0,0,0,116.83,5.68Z\"></path><polygon points=\"74.87 30.31 90.95 10.69 83.42 10.69 83.42 1.69 66.32 1.69 66.32 10.69 58.79 10.69 74.87 30.31\"></polygon><path d=\"M51.59,21.74a.63.63,0,0,0,.82-.29l.06-.12,0-.07a.64.64,0,0,0,0-.07,1.64,1.64, 0,0,0-.07-1.61,2.15,2.15,0,0,0-1.89-.73c-.36,0-1.56.12-3.39.34h-.06c-1.62.16-2.66, 0-2.86-1.31-.16-1.11.06-1.84,4.43-2.54,4.93-.82,5.75.2,6.14.69l.14.17A6,6,0,0,1,56, 18.09a5.7,5.7,0,0,1,.33,1.47c0,.25,0,1.51,0,1.51a9.16,9.16,0,0,1-9.2,8.18,9.5,9.5,0,0, 1-9.47-9.13V4.36a1.7,1.7,0,0,1,1.68-1.61A1.61,1.61,0,0,1,41,4.36v9.7a.62.62,0,0,0,1.23, 0V11.68A1.71,1.71,0,0,1,44,10.16a2.77,2.77,0,0,1,3,2.4,9.74,9.74,0,0,1,.25,1.79A11, 11,0,0,0,45,15,1.77,1.77,0,0,0,44,13.46a.69.69,0,0,0-.76.21.5.5,0,0,0-.07.38.5.5,0,0,0, .21.3,1.15,1.15,0,0,1,.47.89,2.35,2.35,0,0,1,0,.47A2.4,2.4,0,0,0,43,18.06c.4,2.71,3.14, 2.44,4.18,2.34h.05c1.12-.13,2.91-.33,3.3-.33.57,0,.81.13.87.2s0,.26-.06.45a2.14,2.14,0,0, 1-.1.22.61.61,0,0,0,.31.81m3.52-7.15a5.14,5.14,0,0,0-2.75-.76c0-2-.27-3.44-1.28-4.49l-.18-.18a2.88, 2.88,0,0,1,1.92-.35h0a1.75,1.75,0,0,1,1.24.72c.76.94,1.14,2.82,1,5.06m-4.93-4.42c.74.77.91,1.93.94, 3.67a22.6,22.6,0,0,0-2.6.3,10.32,10.32,0,0,0-.28-1.88,4.24,4.24,0,0,0-1.51-2.49,2.06,2.06,0,0,1, 1.4-.53v0a3,3,0,0,1,2,.93m7.39,10.9c0-.33,0-1.11,0-1.11a6.45,6.45,0,0,0-.42-2.29,8.13,8.13,0,0, 0-.93-1.82c.14-1.18.43-5-1.21-7.07A3,3,0,0,0,53,7.6a3.75,3.75,0,0,0-3.1.85A3.77,3.77,0,0,0,48.13, 8a3.27,3.27,0,0,0-2.54,1.16A5.92,5.92,0,0,0,44.05,9a2.91,2.91,0,0,0-1.86.52V4.36a2.83,2.83,0,0, 0-2.85-2.83,2.9,2.9,0,0,0-2.92,2.83V19.8a10.79,10.79,0,0,0,10.7,10.67,10.39,10.39,0,0,0,10.45-9.4\"></path><path d=\"M24.34,25.45H20.55V17.61H12.13v7.84H8.37V6.55h3.76v7.6h8.42V6.55h3.79ZM32.71, 16A16.18,16.18,0,0,0,16.36,0,16.18,16.18,0,0,0,0,16,16.18,16.18,0,0,0,16.36,32,16.18,16.18,0,0,0,32.71,16Z\"></path></svg>\n\t\t\t<span >&nbsp;by&nbsp;</span>\n\t\t\t<a style={{ color: '#3490dc' }} target=\"_blank\" rel=\"noreferrer\" href=\"https://github.com/pesonkim/matcha\">kpesonen</a>\n\t\t</div>\n\t</footer>\n)\n\nexport default Footer","import Header from './Header'\nimport Footer from './Footer'\n\nconst Layout = (props) => (\n\t<div className='flex flex-col justify-between min-h-screen w-full max-w-screen-lg mx-auto'>\n\t\t<Header />\n\t\t<main className='mt-20'>\n\t\t\t{props.children}\n\t\t</main>\n\t\t<Footer />\n\t</div>\n)\n\nexport default Layout","const Wrapper = (props) => {\n\treturn (\n\t\t<div className='max-w-screen-sm mx-auto px-2 '>\n\t\t\t<div className='flex flex-col justify-center mb-4 p-4 bg-white rounded ui-shadow'>\n\t\t\t\t{props.children}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Wrapper","const Heading = ({ title }) => {\n\treturn (\n\t\t<h1 className='text-2xl sm:text-3xl text-center mb-4'>\n\t\t\t{title}\n\t\t</h1>\n\t)\n}\n\nexport default Heading","const InputField = (props) => {\n\tconst style = {\n\t\tdisplay: 'block',\n\t\tborderWidth: '1px',\n\t\tborderColor: '#dae4e9',\n\t\tborderRadius: '.25rem',\n\t\twidth: '100%',\n\t\tpadding: '.75rem',\n\t}\n\n\tlet error = ''\n\tif (props.errors) {\n\t\terror = (props.errors.includes('required')) ? '' : props.errors\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<label>{props.name.charAt(0).toUpperCase() + props.name.slice(1)}</label>\n\t\t\t{props.errors && <label className='text-red-500'> *</label>}\n\t\t\t<input name={props.name} type={props.type} style={style} onBlur={props.onBlur} maxLength='255'/>\n\t\t\t<div className='text-red-500 mb-4'>{error}</div>\n\t\t</>\n\t)\n}\n\nexport default InputField","import { useState } from 'react'\n\nconst PasswordField = (props) => {\n\tconst [show, setShow] = useState(false)\n\n\tconst style = {\n\t\tdisplay: 'block',\n\t\tborderWidth: '1px',\n\t\tborderColor: '#dae4e9',\n\t\tborderRadius: '.25rem',\n\t\twidth: '100%',\n\t\tpadding: '.75rem',\n\t}\n\n\tconst button = {\n\t\tposition: 'absolute',\n\t\ttop: 15,\n\t\tright: 15,\n\t}\n\n\tconst toggle = event => {\n\t\tevent.preventDefault()\n\t\tsetShow(!show)\n\t}\n\n\tlet error = ''\n\tif (props.errors) {\n\t\terror = (props.errors.includes('required')) ? '' : props.errors\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t{props.errors && <label className='text-red-500'> *</label>}\n\t\t\t<div className='relative'>\n\t\t\t\t<input name='password' type={show ? 'text' : 'password'} style={style} onBlur={props.onBlur} maxLength='255'/>\n\t\t\t\t<button tabIndex={-1} style={button} onClick={toggle}>{show ? 'Hide' : 'Show'}</button>\n\t\t\t</div>\n\t\t\t<div className='text-red-500 mb-4'>{error}</div>\n\t\t</div>\n\t)\n}\n\nexport default PasswordField\n\n","const SubmitButton = (props) => {\n\tconst style = {\n\t\twidth: '100%',\n\t\tcolor: '#fff',\n\t\tpadding: '.75rem',\n\t\tmarginTop: '.25rem',\n\t\tmarginBottom: '1rem'\n\t}\n\n\treturn (\n\t\t<button type='submit' style={style} className='rounded bg-green-500 hover:bg-green-600'>\n\t\t\t{props.text}\n\t\t</button>\n\t)\n}\n\nexport default SubmitButton","import { Link } from 'react-router-dom'\nimport { useEffect } from 'react'\nimport Wrapper from '../ui/Wrapper'\nimport Heading from '../ui/forms/Heading'\nimport InputField from '../ui/forms/InputField'\nimport PasswordField from '../ui/forms/PasswordField'\nimport SubmitButton from '../ui/forms/SubmitButton'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { login } from '../../reducers/userReducer'\nimport { setNotif, setError, clear } from '../../reducers/formReducer'\n\nconst LoginPage = () => {\n\tconst { ip } = useSelector(state => state.user)\n\tconst { errorMessage } = useSelector(state => state.form)\n\tconst { notification } = useSelector(state => state.form)\n\tconst dispatch = useDispatch()\n\n\tuseEffect(() => {\n\t\tif (window.location.pathname === '/verify/') {\n\t\t\tdispatch(setNotif('Account verified. You can now access Matcha'))\n\t\t} else if (window.location.pathname === '/expired/') {\n\t\t\tdispatch(setError('Your session has expired, please login again'))\n\t\t}\n\t\telse {\n\t\t\tdispatch(clear())\n\t\t}\n\t},[])\n\n\tconst handleSubmit = (event) => {\n\t\tevent.preventDefault()\n\t\tconst data = {\n\t\t\tusername: event.target.username.value,\n\t\t\tpassword: event.target.password.value,\n\t\t\tip: ip,\n\t\t}\n\t\tdispatch(login(data))\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Wrapper>\n\t\t\t\t<Heading title='Login' />\n\t\t\t\t{notification && <div className='mb-4 text-center text-green-500'>{notification}</div>}\n\t\t\t\t{errorMessage && <div className='mb-4 text-center text-red-500'>{errorMessage}</div>}\n\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t<InputField type='text' name='username' />\n\t\t\t\t\t<label>Password</label>\n\t\t\t\t\t<PasswordField />\n\t\t\t\t\t<SubmitButton text='Login' />\n\t\t\t\t</form>\n\t\t\t\t<div className='text-center'>\n\t\t\t\t\t<Link to='/forgot' style={{ color: '#3490dc' }} >\n\t\t\t\t\t\tForgot password?\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t</Wrapper>\n\t\t\t<Wrapper>\n\t\t\t\t<div className='text-center'>\n\t\t\t\t\tDon&apos;t have an account?\n\t\t\t\t\t<Link to='/signup' style={{ color: '#3490dc' }} >\n\t\t\t\t\t\t&nbsp;Signup\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t</Wrapper>\n\t\t</>\n\t)\n}\n\nexport default LoginPage","import moment from 'moment'\n\nconst validate = (values) => {\n\tconst errors = {}\n\n\t//console.log(values)\n\n\t//first name\n\tif (!values.firstname) {\n\t\terrors.firstname = 'First name is required'\n\t}\n\t//last name\n\tif (!values.lastname) {\n\t\terrors.lastname = 'Last name is required'\n\t}\n\t//username\n\tif (!values.username) {\n\t\terrors.username = 'Username is required'\n\t} else if (values.username.length < 3 || values.username.length > 20) {\n\t\terrors.username = 'Username must be between 3 and 20 characters long'\n\t}\n\t//birthdate\n\tif (values.birthdate) {\n\t\tif (Object.values(values.birthdate.split('-')).includes('')) {\n\t\t\terrors.birthdate = 'Birthdate is required'\n\t\t}\n\t\tconst date = moment(values.birthdate, 'YYYY-MM-DD')\n\n\t\tif (!date.isValid()) {\n\t\t\terrors.birthdate = 'This is not a valid date'\n\t\t}\n\t}\n\t//email\n\tif (!values.email) {\n\t\terrors.email = 'Email is required'\n\t} else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)) {\n\t\terrors.email = 'Invalid email address'\n\t}\n\t//password\n\tif (!values.password) {\n\t\terrors.password = 'Password is required'\n\t} else if (values.password.length < 6) {\n\t\terrors.password = 'Password must be at least 6 characters long'\n\t} else if (!(new RegExp('^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])').test(values.password))) {\n\t\terrors.password = 'Password must contain at least one lowercase and uppercase letter, and a number.'\n\t}\n\n\t//new RegExp(\"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\\$%\\^&\\*])(?=.{8,})\").test\n\t//check = date.toLocaleDateString('en-eu').split('/')\n\n\t//console.log(errors)\n\treturn errors\n}\n\nexport default validate","import { Link } from 'react-router-dom'\nimport { useState } from 'react'\nimport Wrapper from '../ui/Wrapper'\nimport Heading from '../ui/forms/Heading'\nimport InputField from '../ui/forms/InputField'\nimport PasswordField from '../ui/forms/PasswordField'\nimport SubmitButton from '../ui/forms/SubmitButton'\nimport validate from '../../utils/validate'\nimport userService from '../../services/users'\n\nconst SignupPage = () => {\n\tconst [errors, setErrors] = useState({})\n\tconst [errorMessage, setErrorMessage] = useState('')\n\tconst [notification, setNotification] = useState('')\n\n\tconst inputStyle = {\n\t\tborderWidth: '1px',\n\t\tborderColor: '#dae4e9',\n\t\tborderRadius: '.25rem',\n\t\tpadding: '.75rem',\n\t\twidth: '100%',\n\t}\n\n\tconst createOptions = (start, end) => {\n\t\tlet options = []\n\n\t\tfor (let i = end; i >= start; i = i - 1) {\n\t\t\toptions.push(<option key={i}>{i}</option>)\n\t\t}\n\n\t\treturn options\n\t}\n\n\tconst handleSubmit = (event) => {\n\t\tevent.preventDefault()\n\n\t\tconst rand = () => Math.random().toString(36).substr(2)\n\t\tconst randToken = () => rand() + rand() + rand()\n\t\tconst token = randToken()\n\n\t\tconst userData = {\n\t\t\tfirstname: event.target.firstname.value,\n\t\t\tlastname: event.target.lastname.value,\n\t\t\tbirthdate: `${event.target.year.value}-${event.target.month.value}-${event.target.day.value}`,\n\t\t\tusername: event.target.username.value,\n\t\t\temail: event.target.email.value,\n\t\t\tpassword: event.target.password.value,\n\t\t\ttoken,\n\t\t}\n\n\t\tconst errors = validate(userData)\n\t\tsetErrors(errors)\n\n\t\tif (Object.keys(errors).length === 0) {\n\t\t\tuserService\n\t\t\t\t.createUser(userData)\n\t\t\t\t.then(() => {\n\t\t\t\t\tsetErrorMessage('')\n\t\t\t\t\tsetNotification('Signup succesful, please check your email')\n\t\t\t\t\tevent.target.remove()\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tif (error.response && error.response.data) {\n\t\t\t\t\t\tsetErrorMessage(error.response.data.error)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetErrorMessage('Database error')\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t}\n\t}\n\n\tconst onBlur = (event) => {\n\t\tconst name = event.target.name\n\t\tconst value = event.target.value\n\n\t\tconst error = validate({ [name]: value })\n\t\tif (error[name]) {\n\t\t\tsetErrors({ ...errors, [name]: error[name], })\n\t\t} else {\n\t\t\tsetErrors({ ...errors, [name]: '', })\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Wrapper>\n\t\t\t\t<Heading title='Signup' />\n\t\t\t\t{errorMessage && <label className='text-red-500 text-center mb-2'>{errorMessage}</label>}\n\t\t\t\t{notification && <label className='text-green-500 text-center mb-2'>{notification}</label>}\n\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t<div className='flex mb-4'>\n\t\t\t\t\t\t<div className='inline-block mr-2 w-1/2'>\n\t\t\t\t\t\t\t<label>First name</label>\n\t\t\t\t\t\t\t{errors.firstname && <label className='text-red-500'> *</label>}\n\t\t\t\t\t\t\t<input name='firstname' type='text' style={inputStyle} onBlur={onBlur} maxLength='50'/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='inline-block ml-2 w-1/2'>\n\t\t\t\t\t\t\t<label>Last name</label>\n\t\t\t\t\t\t\t{errors.lastname && <label className='text-red-500'> *</label>}\n\t\t\t\t\t\t\t<input name='lastname' type='text' style={inputStyle} onBlur={onBlur} maxLength='50'/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<InputField type='text' name='username' errors={errors.username} onBlur={onBlur} />\n\t\t\t\t\t<label>Birthdate</label>\n\t\t\t\t\t{errors.birthdate && <label className='text-red-500'> *</label>}\n\t\t\t\t\t<div className='flex mt-2'>\n\t\t\t\t\t\t<div className='inline-block w-1/4'>\n\t\t\t\t\t\t\t<label>Day</label>\n\t\t\t\t\t\t\t<select name='day' type='text' style={inputStyle} >\n\t\t\t\t\t\t\t\t<option></option>\n\t\t\t\t\t\t\t\t{createOptions(1, 31)}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='inline-block w-1/4 mx-4'>\n\t\t\t\t\t\t\t<label>Month</label>\n\t\t\t\t\t\t\t<select name='month' type='text' style={inputStyle} >\n\t\t\t\t\t\t\t\t<option></option>\n\t\t\t\t\t\t\t\t{createOptions(1, 12)}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='inline-block w-1/2'>\n\t\t\t\t\t\t\t<label>Year</label>\n\t\t\t\t\t\t\t<select name='year' type='text' style={inputStyle} >\n\t\t\t\t\t\t\t\t<option></option>\n\t\t\t\t\t\t\t\t{createOptions(1900, 2010)}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='text-red-500 mb-4'>{errors.birthdate}</div>\n\t\t\t\t\t<InputField type='text' name='email' errors={errors.email} onBlur={onBlur} />\n\t\t\t\t\t<label>Password</label>\n\t\t\t\t\t<PasswordField errors={errors.password} onBlur={onBlur} />\n\t\t\t\t\t<SubmitButton text='Create account' />\n\t\t\t\t</form>\n\t\t\t</Wrapper>\n\t\t\t<Wrapper>\n\t\t\t\t<div className='text-center'>\n\t\t\t\t\tHave an account?\n\t\t\t\t\t<Link to='/login' style={{ color: '#3490dc' }} >\n\t\t\t\t\t\t&nbsp;Login\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t</Wrapper>\n\t\t</>\n\t)\n}\n\nexport default SignupPage","import { Link } from 'react-router-dom'\nimport { useEffect } from 'react'\nimport Wrapper from '../ui/Wrapper'\nimport Heading from '../ui/forms/Heading'\nimport SubmitButton from '../ui/forms/SubmitButton'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { setError, clear } from '../../reducers/formReducer'\nimport { forgot } from '../../reducers/userReducer'\nimport validate from '../../utils/validate'\n\nconst ForgotPage = () => {\n\tconst { errorMessage } = useSelector(state => state.form)\n\tconst { notification } = useSelector(state => state.form)\n\tconst dispatch = useDispatch()\n\n\tuseEffect(() => {\n\t\tdispatch(clear())\n\t}, [])\n\n\tconst handleSubmit = (event) => {\n\t\tevent.preventDefault()\n\n\t\tconst email = event.target.email.value\n\t\tconst check = validate({ email: email })\n\t\tif (check.email) {\n\t\t\tdispatch(setError(check.email))\n\t\t} else {\n\t\t\tdispatch(forgot({ email }))\n\t\t}\n\t}\n\n\tconst inputStyle = {\n\t\tborderWidth: '1px',\n\t\tborderColor: '#dae4e9',\n\t\tborderRadius: '.25rem',\n\t\tpadding: '.75rem',\n\t\twidth: '100%',\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Wrapper>\n\t\t\t\t<Heading title='Forgot your password?' />\n\t\t\t\t{notification && <div className='mb-4 text-center text-green-500'>{notification}</div>}\n\t\t\t\t{notification === ''\n\t\t\t\t\t? <><form onSubmit={handleSubmit}>\n\t\t\t\t\t\t<p className='mb-4'>Please enter the <b>email address</b> associated with your account to receive a link to reset your password.</p>\n\t\t\t\t\t\t<input name='email' type='text' style={inputStyle} />\n\t\t\t\t\t\t<div className='text-red-500 mb-4'>{errorMessage}</div>\n\t\t\t\t\t\t<SubmitButton text='Send password reset email' />\n\t\t\t\t\t</form>\n\t\t\t\t\t<div className='text-center'>\n\t\t\t\t\t\t<Link to='/login' style={{ color: '#3490dc' }} >\n\t\t\t\t\t\t\tBack to login\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div></>\n\t\t\t\t\t: <div className='text-center'>\n\t\t\t\t\t\t<Link to='/login' style={{ color: '#3490dc' }} >\n\t\t\t\t\t\t\tBack to login\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</Wrapper>\n\t\t\t<Wrapper>\n\t\t\t\t<div className='text-center'>\n\t\t\t\t\tDon&apos;t have an account?\n\t\t\t\t\t<Link to='/signup' style={{ color: '#3490dc' }} >\n\t\t\t\t\t\t&nbsp;Signup\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t</Wrapper>\n\t\t</>\n\t)\n}\n\nexport default ForgotPage","import { FireIcon, LocationMarkerIcon } from '@heroicons/react/outline'\nimport { useSelector } from 'react-redux'\nimport { getDistance, convertDistance } from 'geolib'\nimport { HeartIcon as MatchIcon } from '@heroicons/react/solid'\nimport { HeartIcon } from '@heroicons/react/outline'\n\nconst Preview = ({ user }) => {\n\tconst { latitude, longitude } = useSelector(state => state.user)\n\tconst { publicLikes, matches, likes } = useSelector(state => state.match)\n\n\tconst hasLiked = publicLikes.find(i => i.sender === user.id)\n\tconst isLiked = likes.find(i => i.receiver === user.id)\n\tconst isMatch = matches.find(i => i.id === user.id)\n\n\tconst imgDivStyle = {\n\t\theight: '200px',\n\t\tmaxHeight: '100%',\n\t\twidth: '100%',\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center',\n\t\toverflow: 'hidden',\n\t\tbackgroundColor: 'rgba(248,247,251,255)',\n\t\tposition: 'relative'\n\t}\n\n\tconst imgStyle = {\n\t\tobjectFit: 'contain',\n\t\theight: 'auto',\n\t\twidth: '100%',\n\t\tmaxHeight: '100%',\n\t\tmaxWidth: '100%',\n\t\tmargin: 'auto',\n\t}\n\n\tconst distance = () => {\n\t\tconst lat = user.latitude\n\t\tconst lng = user.longitude\n\t\tconst meters = getDistance(\n\t\t\t{ latitude: lat, longitude: lng },\n\t\t\t{ latitude: latitude, longitude: longitude }\n\t\t)\n\t\tconst km = Math.ceil(convertDistance(meters, 'km'))\n\n\t\treturn (\n\t\t\t<span className='text-gray-600'>{`\n\t\t\t${km} km away\n\t\t\t`}</span>\n\t\t)\n\t}\n\n\treturn (\n\t\t<div className='flex flex-col  justify-center p-4 bg-white rounded ui-shadow slideDown'>\n\t\t\t<section className=\"flex items-center mb-2\">\n\t\t\t\t{user.online\n\t\t\t\t\t? <span className='text-green-500'>●&nbsp;</span>\n\t\t\t\t\t: <span className='text-red-500'>●&nbsp;</span>\n\t\t\t\t}\n\t\t\t\t<span className='truncate text-xl'>{user.firstname}</span>\n\t\t\t\t,\n\t\t\t\t<span className='ml-2 text-xl'>{user.age}</span>\n\t\t\t</section>\n\t\t\t<div style={imgDivStyle} >\n\t\t\t\t<img src={user.avatar ? user.avatar : 'https://villagesonmacarthur.com/wp-content/uploads/2020/12/Blank-Avatar.png'} alt='avatar' style={imgStyle} />\n\t\t\t\t<div className='absolute bottom-2 right-2 bg-white rounded-full shadow '>\n\t\t\t\t\t{isMatch\n\t\t\t\t\t\t? (<div className='flex flex-row items-center p-1'>\n\t\t\t\t\t\t\t<MatchIcon className='h-6 w-6 text-pink-500' />\n\t\t\t\t\t\t\t<span>match</span>\n\t\t\t\t\t\t</div>)\n\t\t\t\t\t\t: isLiked\n\t\t\t\t\t\t\t? (<div className='flex flex-row items-center p-1'>\n\t\t\t\t\t\t\t\t<HeartIcon className='h-6 w-6 text-pink-500' />\n\t\t\t\t\t\t\t\t<span>liked</span>\n\t\t\t\t\t\t\t</div>)\n\t\t\t\t\t\t\t: hasLiked\n\t\t\t\t\t\t\t\t? (<div className='flex flex-row items-center p-1'>\n\t\t\t\t\t\t\t\t\t<HeartIcon className='h-6 w-6 text-pink-500' />\n\t\t\t\t\t\t\t\t\t<span>likes you</span>\n\t\t\t\t\t\t\t\t</div>)\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<section className=\"flex justify-between items-center mt-2 mb-2\">\n\t\t\t\t<section className=\"flex\">\n\t\t\t\t\t<LocationMarkerIcon className=' h-5 w-5 mr-1' />\n\t\t\t\t\t{distance()}\n\t\t\t\t</section>\n\t\t\t\t<section className=\"flex \">\n\t\t\t\t\t<FireIcon className=' h-5 w-5 mr-1' />\n\t\t\t\t\t<span className=' text-gray-600'>{user.fame}</span>\n\t\t\t\t</section>\n\t\t\t</section>\n\t\t\t<span className=\"text-sm mb-2\">{user.gender} looking for {user.orientation.join(', ')}</span>\n\t\t\t<span className=\"text-sm\">{user.tags.join(' ')}</span>\n\t\t</div>\n\t)\n}\n\nexport default Preview","import Select from 'react-select'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useEffect } from 'react'\nimport { getTags } from '../../../reducers/publicReducer'\n\nconst FilterTags = () => {\n\tconst { allTags, filterTags } = useSelector(state => state.public)\n\tconst dispatch = useDispatch()\n\n\tuseEffect(() => {\n\t\tdispatch(getTags())\n\t}, [])\n\n\tconst selected = () => filterTags ? filterTags.map(o => ({ value: o, label: o })) : []\n\tconst options = () => allTags ? allTags.map(o => ({ value: o, label: o })) : []\n\n\tconst handleChange = (option) => {\n\t\tconst current = Array.isArray(option) ? option.map(i => (i.value.substr(0, 1) !== '#' ? '#' : '') + i.value) : []\n\t\tdispatch({\n\t\t\ttype: 'SETFILTERTAGS',\n\t\t\tdata: current\n\t\t})\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<label className=''>Tags</label>\n\t\t\t<Select\n\t\t\t\tisMulti\n\t\t\t\tname='tags'\n\t\t\t\tplaceholder='Select...'\n\t\t\t\tvalue={selected()}\n\t\t\t\toptions={options()}\n\t\t\t\tonChange={handleChange}\n\t\t\t\tclassName='mb-4'\n\t\t\t/>\n\t\t</>\n\t)\n}\n\nexport default FilterTags","import Select from 'react-select'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useEffect } from 'react'\n\nconst UserSort = () => {\n\tconst { sortFilter, ids } = useSelector(state => state.public)\n\tconst dispatch = useDispatch()\n\n\tconst options = [\n\t\t{ value: 'tags in common', label: 'tags in common' },\n\t\t{ value: 'distance (ascending)', label: 'distance (ascending)' },\n\t\t{ value: 'distance (descending)', label: 'distance (descending)' },\n\t\t{ value: 'fame (ascending)', label: 'fame (ascending)' },\n\t\t{ value: 'fame (descending)', label: 'fame (descending)' },\n\t\t{ value: 'age (ascending)', label: 'age (ascending)' },\n\t\t{ value: 'age (descending)', label: 'age (descending)' },\n\t]\n\n\tconst selected = () => sortFilter ? { value: sortFilter, label: sortFilter } : options[0]\n\n\tuseEffect(() => {\n\t\tif (ids && !sortFilter) {\n\t\t\tdispatch({\n\t\t\t\ttype: 'SETSORT',\n\t\t\t\tdata: {\n\t\t\t\t\tsortFilter: selected().value\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}, [ids])\n\n\tconst handleChange = (option) => {\n\t\tdispatch({\n\t\t\ttype: 'SETSORT',\n\t\t\tdata: {\n\t\t\t\tsortFilter: option.value\n\t\t\t}\n\t\t})\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<label className=''>Sort by</label>\n\t\t\t<Select\n\t\t\t\tname='sort'\n\t\t\t\tvalue={selected()}\n\t\t\t\tonChange={handleChange}\n\t\t\t\toptions={options}\n\t\t\t\tclassName='mb-4'\n\t\t\t/>\n\t\t</>\n\t)\n}\n\nexport default UserSort","import { useSelector, useDispatch } from 'react-redux'\nimport { Range, getTrackBackground } from 'react-range'\nimport { useState } from 'react'\nimport ReactTooltip from 'react-tooltip'\n\nconst SliderFilter = () => {\n\tconst { filterSliders } = useSelector(state => state.public)\n\tconst [distance, setDistance] = useState(filterSliders ? [filterSliders.distance] : [500])\n\tconst [age, setAge] = useState(filterSliders ? [filterSliders.age[0], filterSliders.age[1]] : [16, 100])\n\tconst [fame, setFame] = useState(filterSliders ? [filterSliders.fame[0], filterSliders.fame[1]] : [0, 500])\n\tconst dispatch = useDispatch()\n\n\tconst handleDistance = () => {\n\t\tdispatch({\n\t\t\ttype: 'SETSLIDERS',\n\t\t\tdata: {\n\t\t\t\t...filterSliders,\n\t\t\t\tdistance: distance,\n\t\t\t}\n\t\t})\n\t}\n\n\tconst handleAge = () => {\n\t\tdispatch({\n\t\t\ttype: 'SETSLIDERS',\n\t\t\tdata: {\n\t\t\t\t...filterSliders,\n\t\t\t\tage: age.sort((a, b) => a - b),\n\t\t\t}\n\t\t})\n\t}\n\n\tconst handleFame = () => {\n\t\tdispatch({\n\t\t\ttype: 'SETSLIDERS',\n\t\t\tdata: {\n\t\t\t\t...filterSliders,\n\t\t\t\tfame: fame.sort((a, b) => a - b),\n\t\t\t}\n\t\t})\n\t}\n\n\tconst handleReset = () => {\n\t\tsetDistance([500])\n\t\tsetAge([16, 100])\n\t\tsetFame([0, 500])\n\t\tdispatch({\n\t\t\ttype: 'RESETFILTERS',\n\t\t})\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<label className=''>Distance difference</label>\n\t\t\t<div className='pt-6 mx-2'>\n\t\t\t\t<Range\n\t\t\t\t\tvalues={distance}\n\t\t\t\t\tstep={1}\n\t\t\t\t\tmin={1}\n\t\t\t\t\tmax={500}\n\t\t\t\t\tonChange={(values) => setDistance(values)}\n\t\t\t\t\tonFinalChange={handleDistance}\n\t\t\t\t\trenderTrack={({ props, children }) => (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tonMouseDown={props.onMouseDown}\n\t\t\t\t\t\t\tonTouchStart={props.onTouchStart}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t...props.style,\n\t\t\t\t\t\t\t\theight: '14px',\n\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tref={props.ref}\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\theight: '14px',\n\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\tborderRadius: '6px',\n\t\t\t\t\t\t\t\t\tbackground: getTrackBackground({\n\t\t\t\t\t\t\t\t\t\tvalues: distance,\n\t\t\t\t\t\t\t\t\t\tcolors: ['#548BF4', '#ccc'],\n\t\t\t\t\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\t\t\t\t\tmax: 500,\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\talignSelf: 'center'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\trenderThumb={({ props }) => (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t...props.style,\n\t\t\t\t\t\t\t\theight: '25px',\n\t\t\t\t\t\t\t\twidth: '25px',\n\t\t\t\t\t\t\t\tborderRadius: '50%',\n\t\t\t\t\t\t\t\tbackgroundColor: '#fff',\n\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\tboxShadow: '0px 2px 6px #AAA'\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName='focus:outline-none'\n\t\t\t\t\t\t\tdata-tip\n\t\t\t\t\t\t\tdata-for='distanceSlider'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ReactTooltip id='distanceSlider'>\n\t\t\t\t\t\t\t\t{distance[0] + '\\u00A0' + 'km'}\n\t\t\t\t\t\t\t</ReactTooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className='flex flex-row justify-between pt-4'>\n\t\t\t\t<label className=''>Min age</label>\n\t\t\t\t<label className=''>Max age</label>\n\t\t\t</div>\n\t\t\t<div className='pt-6 mx-2'>\n\t\t\t\t<Range\n\t\t\t\t\tallowOverlap={true}\n\t\t\t\t\tvalues={age}\n\t\t\t\t\tstep={1}\n\t\t\t\t\tmin={16}\n\t\t\t\t\tmax={100}\n\t\t\t\t\tonChange={(values) => setAge(values)}\n\t\t\t\t\tonFinalChange={handleAge}\n\t\t\t\t\trenderTrack={({ props, children }) => (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tonMouseDown={props.onMouseDown}\n\t\t\t\t\t\t\tonTouchStart={props.onTouchStart}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t...props.style,\n\t\t\t\t\t\t\t\theight: '14px',\n\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tref={props.ref}\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\theight: '14px',\n\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\tborderRadius: '6px',\n\t\t\t\t\t\t\t\t\tbackground: getTrackBackground({\n\t\t\t\t\t\t\t\t\t\tvalues: age,\n\t\t\t\t\t\t\t\t\t\tcolors: ['#ccc', '#548BF4', '#ccc'],\n\t\t\t\t\t\t\t\t\t\tmin: 16,\n\t\t\t\t\t\t\t\t\t\tmax: 100,\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\talignSelf: 'center'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\trenderThumb={({ index, props }) => (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t...props.style,\n\t\t\t\t\t\t\t\theight: '25px',\n\t\t\t\t\t\t\t\twidth: '25px',\n\t\t\t\t\t\t\t\tborderRadius: '50%',\n\t\t\t\t\t\t\t\tbackgroundColor: '#fff',\n\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\tboxShadow: '0px 2px 6px #AAA'\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName='focus:outline-none'\n\t\t\t\t\t\t\tdata-tip\n\t\t\t\t\t\t\tdata-for={`ageSlider${index}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ReactTooltip id={`ageSlider${index}`}>\n\t\t\t\t\t\t\t\t{age[index]}\n\t\t\t\t\t\t\t</ReactTooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className='flex flex-row justify-between pt-4'>\n\t\t\t\t<label className=''>Min fame</label>\n\t\t\t\t<label className=''>Max fame</label>\n\t\t\t</div>\n\t\t\t<div className='pt-6 mx-2 pb-4'>\n\t\t\t\t<Range\n\t\t\t\t\tallowOverlap={true}\n\t\t\t\t\tvalues={fame}\n\t\t\t\t\tstep={1}\n\t\t\t\t\tmin={0}\n\t\t\t\t\tmax={500}\n\t\t\t\t\tonChange={(values) => setFame(values)}\n\t\t\t\t\tonFinalChange={handleFame}\n\t\t\t\t\trenderTrack={({ props, children }) => (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tonMouseDown={props.onMouseDown}\n\t\t\t\t\t\t\tonTouchStart={props.onTouchStart}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t...props.style,\n\t\t\t\t\t\t\t\theight: '14px',\n\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tref={props.ref}\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\theight: '14px',\n\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\tborderRadius: '6px',\n\t\t\t\t\t\t\t\t\tbackground: getTrackBackground({\n\t\t\t\t\t\t\t\t\t\tvalues: fame,\n\t\t\t\t\t\t\t\t\t\tcolors: ['#ccc', '#548BF4', '#ccc'],\n\t\t\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\t\t\tmax: 500,\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\talignSelf: 'center'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\trenderThumb={({ index, props }) => (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t...props.style,\n\t\t\t\t\t\t\t\theight: '25px',\n\t\t\t\t\t\t\t\twidth: '25px',\n\t\t\t\t\t\t\t\tborderRadius: '50%',\n\t\t\t\t\t\t\t\tbackgroundColor: '#fff',\n\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\tboxShadow: '0px 2px 6px #AAA'\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName='focus:outline-none'\n\t\t\t\t\t\t\tdata-tip\n\t\t\t\t\t\t\tdata-for={`fameSlider${index}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ReactTooltip id={`fameSlider${index}`}>\n\t\t\t\t\t\t\t\t{fame[index] === 0 ? '0' : fame[index]}\n\t\t\t\t\t\t\t</ReactTooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName='justify-center flex pt-4'\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\tpadding: '.75rem',\n\t\t\t\t\tmarginTop: '.25rem',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<button\n\t\t\t\t\tclassName='rounded bg-green-500 hover:bg-green-600 text-white ml-2 p-2'\n\t\t\t\t\tonClick={handleReset}\n\t\t\t\t>\n\t\t\t\tReset filters\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default SliderFilter","import Wrapper from '../ui/Wrapper'\nimport FilterTags from '../ui/forms/FilterTags'\nimport UserSort from '../ui/forms/UserSort'\nimport SliderFilter from '../ui/forms/Slider'\nimport { useState } from 'react'\nimport { ChevronDownIcon, ChevronUpIcon } from '@heroicons/react/outline'\nimport { useSelector } from 'react-redux'\nimport ReactTooltip from 'react-tooltip'\n\nconst Togglable = (props) => {\n\tconst [visible, setVisible] = useState(false)\n\n\tconst showWhenVisible = { display: visible ? '' : 'none' }\n\n\tconst toggleVisibility = (event) => {\n\t\tevent.preventDefault()\n\t\tsetVisible(!visible)\n\t}\n\n\tconst Show = () => <ChevronDownIcon className='w-8 h-8' />\n\tconst Hide = () => <ChevronUpIcon className='w-8 h-8' />\n\n\treturn (\n\t\t<>\n\t\t\t<div className='flex justify-between items-center'>\n\t\t\t\t<p className=''>{props.text || ''}</p>\n\t\t\t\t<button tabIndex={-1} onClick={toggleVisibility}>{visible ? Hide() : Show()}</button>\n\t\t\t</div>\n\t\t\t<div style={showWhenVisible} className='mt-2'>\n\t\t\t\t{props.children}\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nconst Filters = () => {\n\tconst { users } = useSelector(state => state.public)\n\tconst { blocks } = useSelector(state => state.match)\n\n\treturn (\n\t\t<Wrapper>\n\t\t\t<div data-tip data-for='results' >\n\t\t\t\t<h1 className='text-2xl sm:text-3xl text-center mb-4' >\n\t\t\t\t\t{`View users: ${users.length}`}\n\t\t\t\t</h1>\n\t\t\t\t<ReactTooltip id='results'>\n\t\t\t\t\t{`total: ${users.length}, blocks: ${blocks ? blocks.length : null}`}\n\t\t\t\t</ReactTooltip>\n\t\t\t</div>\n\t\t\t<UserSort />\n\t\t\t<hr className='my-2' />\n\t\t\t<Togglable text='User filters'>\n\t\t\t\t<FilterTags />\n\t\t\t\t<SliderFilter />\n\t\t\t</Togglable>\n\t\t</Wrapper>\n\t)\n}\n\nexport default Filters","import { useDispatch, useSelector } from 'react-redux'\nimport Wrapper from '../ui/Wrapper'\nimport Preview from '../ui/Preview'\nimport { useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport { getUsers } from '../../reducers/publicReducer'\nimport Filters from './Filters'\n\nconst BrowsePage = () => {\n\tconst dispatch = useDispatch()\n\tconst { tags, latitude, longitude } = useSelector(state => state.user)\n\tconst { ids, users, sortFilter, filterTags, filterSliders, loadingUsers } = useSelector(state => state.public)\n\tconst { blocks } = useSelector(state => state.match)\n\n\tuseEffect(async () => {\n\t\tif (sortFilter && blocks) {\n\t\t\tawait dispatch(getUsers(filterTags, filterSliders, sortFilter, tags, latitude, longitude, blocks))\n\t\t\tdispatch({\n\t\t\t\ttype: 'LOADINGUSERS',\n\t\t\t\tdata: false\n\t\t\t})\n\t\t}\n\t}, [ids, sortFilter, filterTags, filterSliders, blocks])\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tdispatch({\n\t\t\t\ttype: 'LOADINGUSERS',\n\t\t\t\tdata: true\n\t\t\t})\n\t\t}\n\t}, [])\n\n\treturn (\n\t\t<>\n\t\t\t<Filters />\n\t\t\t{loadingUsers\n\t\t\t\t? <Wrapper>\n\t\t\t\t\t<div className='text-center'>\n\t\t\t\t\t\tLoading users...\n\t\t\t\t\t</div>\n\t\t\t\t</Wrapper>\n\t\t\t\t: null\n\t\t\t}\n\t\t\t{users.length\n\t\t\t\t? <div className=\"w-full max-w-screen-lg grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-2 md:gap-3 lg:gap-5 mx-auto my-4 px-2\">\n\t\t\t\t\t{users.map(profile => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Link key={profile.id} to={`/browse/${profile.id}`}>\n\t\t\t\t\t\t\t\t<Preview user={profile} />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t: loadingUsers\n\t\t\t\t\t? null\n\t\t\t\t\t: <Wrapper>\n\t\t\t\t\t\t<div className='text-center'>\n\t\t\t\t\t\t\tNo users match current filters or location\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Wrapper>\n\t\t\t}\n\t\t</>\n\t)\n}\n\nexport default BrowsePage","import { XIcon } from '@heroicons/react/outline'\nimport { useHistory } from 'react-router-dom'\n\nconst TopBar = ({ online, firstname, age }) => {\n\tlet history = useHistory()\n\n\treturn (\n\t\t<div className=\"w-full flex items-center justify-between p-4\" >\n\t\t\t<section className=\"flex items-center overflow-hidden w-2/3\">\n\t\t\t\t{online\n\t\t\t\t\t? <span className='text-green-500'>●&nbsp;</span>\n\t\t\t\t\t: <span className='text-red-500'>●&nbsp;</span>\n\t\t\t\t}\n\t\t\t\t<span className='truncate text-2xl'>{firstname}</span>\n\t\t\t\t,\n\t\t\t\t<span className='ml-2 text-2xl'>{age}</span>\n\t\t\t</section>\n\t\t\t<section className=\"flex items-center cursor-pointer select-none\" onClick={() => history.goBack()}>\n\t\t\t\t<span className='sm:block hidden'>Back to browse</span>\n\t\t\t\t<XIcon className='ml-2 h-8 w-8' />\n\t\t\t</section>\n\t\t</div>\n\t)\n}\n\nexport default TopBar","import { HeartIcon as MatchIcon } from '@heroicons/react/solid'\nimport { HeartIcon } from '@heroicons/react/outline'\n\nconst Image = ({ image, status }) => {\n\tconst divStyle = {\n\t\theight: '300px',\n\t\tmaxHeight: '100%',\n\t\twidth: '100%',\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center',\n\t\toverflow: 'hidden',\n\t\tbackgroundColor: 'rgba(248,247,251,255)',\n\t\tposition: 'relative'\n\t}\n\n\tconst imgStyle = {\n\t\tobjectFit: 'contain',\n\t\theight: 'auto',\n\t\twidth: '100%',\n\t\tmaxHeight: '100%',\n\t\tmaxWidth: '100%',\n\t\tmargin: 'auto',\n\t}\n\n\treturn (\n\t\t<div style={divStyle} >\n\t\t\t<img src={image ? image : 'https://villagesonmacarthur.com/wp-content/uploads/2020/12/Blank-Avatar.png'} alt='avatar' style={imgStyle} />\n\t\t\t{status && <div className='absolute bottom-2 right-2 bg-white rounded-full shadow '>\n\t\t\t\t<div className='flex flex-row items-center p-1'>\n\t\t\t\t\t{status === 'match'\n\t\t\t\t\t\t? <MatchIcon className='h-6 w-6 text-pink-500' />\n\t\t\t\t\t\t: <HeartIcon className='h-6 w-6 text-pink-500' />\n\t\t\t\t\t}\n\t\t\t\t\t<span>{status}</span>\n\t\t\t\t</div>\n\t\t\t</div>}\n\t\t</div>\n\t)\n}\n\nexport default Image","import TimeAgo from 'react-timeago'\nimport { FireIcon, LocationMarkerIcon } from '@heroicons/react/outline'\nimport { useSelector } from 'react-redux'\nimport { getDistance, convertDistance } from 'geolib'\nimport ReactTooltip from 'react-tooltip'\n\nconst Info = ({ name, fame, age, lat, lng, gender, orientation, bio, tags, online, login }) => {\n\tconst { latitude, longitude } = useSelector(state => state.user)\n\n\tconst fieldStyle = {\n\t\tborderBottomWidth: '1px',\n\t\tborderColor: '#dae4e9',\n\t}\n\n\tconst distance = () => {\n\t\tconst meters = getDistance(\n\t\t\t{ latitude: lat, longitude: lng },\n\t\t\t{ latitude: latitude, longitude: longitude }\n\t\t)\n\t\tconst km = Math.ceil(convertDistance(meters, 'km'))\n\n\t\treturn (\n\t\t\t<span className='text-lg text-gray-600'>{`\n\t\t\t${km} km away\n\t\t\t`}</span>\n\t\t)\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"w-full flex flex-col p-4\" style={fieldStyle}>\n\t\t\t\t<section className=\"flex justify-between items-center\">\n\t\t\t\t\t<strong className='break-words overflow-hidden text-xl'>{name}</strong>\n\t\t\t\t\t<strong className='text-xl'>{age}</strong>\n\t\t\t\t</section>\n\t\t\t\t<section className=\"flex justify-between items-center mt-2 mb-4\">\n\t\t\t\t\t<section className=\"flex\" data-tip data-for='hoverImage'>\n\t\t\t\t\t\t<LocationMarkerIcon className='h-6 w-6 mr-1' />\n\t\t\t\t\t\t{distance()}\n\t\t\t\t\t\t<ReactTooltip id='hoverImage'>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\t\t\tmaxHeight: '400px',\n\t\t\t\t\t\t\t\t\twidth: 'auto',\n\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={`https://maps.googleapis.com/maps/api/staticmap?size=500x400&zoom=4&markers=size:normal%7C${lat},${lng}&key=${process.env.REACT_APP_API_KEY}`}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tobjectFit: 'contain',\n\t\t\t\t\t\t\t\t\t\theight: 'auto',\n\t\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\t\tmaxHeight: '100%',\n\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\n\t\t\t\t\t\t\t\t\t\tmargin: 'auto',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\talt='location'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</ReactTooltip>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section className=\"flex \">\n\t\t\t\t\t\t<FireIcon className='h-6 w-6 mr-1' />\n\t\t\t\t\t\t<span className='text-lg text-gray-600'>{fame}</span>\n\t\t\t\t\t</section>\n\t\t\t\t</section>\n\t\t\t\t<p className='break-words'>{bio}</p>\n\t\t\t</div>\n\t\t\t<div className=\"w-full flex items-center p-4\" style={fieldStyle}>\n\t\t\t\t<p>{gender} looking for {orientation.join(', ')}</p>\n\t\t\t</div>\n\t\t\t<div className=\"w-full flex items-center p-4\" style={fieldStyle}>\n\t\t\t\t<p>{tags.join(' ')}</p>\n\t\t\t</div>\n\t\t\t<div className=\"w-full flex items-center p-4\" style={fieldStyle}>\n\t\t\t\t{online\n\t\t\t\t\t? <p>online</p>\n\t\t\t\t\t: <p>last online <TimeAgo date={login} live={false} /></p>\n\t\t\t\t}\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nexport default Info","import { HeartIcon, FlagIcon, BanIcon } from '@heroicons/react/solid'\nimport { useSelector } from 'react-redux'\nimport ReactTooltip from 'react-tooltip'\n\nconst ReportButton = ({ user, onClick, action }) => (\n\t<div className='flex-1 w-1/3'>\n\t\t<div className='flex flex-row items-center justify-center p-4 select-none cursor-pointer hover:underline text-gray-800' onClick={() => onClick({ type: 'report', user, action })}>\n\t\t\t<FlagIcon className=' h-8 w-8 mr-2' />\n\t\t\t<span>Report</span>\n\t\t</div>\n\t</div>\n)\n\nconst CantReportButton = () => (\n\t<div className='flex-1 w-1/3'>\n\t\t<div className='flex flex-row items-center justify-center p-4 select-none text-gray-500' data-tip='You have already reported this user'>\n\t\t\t<FlagIcon className=' h-8 w-8 mr-2' />\n\t\t\t<span>Report</span>\n\t\t\t<ReactTooltip />\n\t\t</div>\n\t</div>\n)\n\nconst BlockButton = ({ user, onClick, action }) => (\n\t<div className='flex-1 w-1/3'>\n\t\t<div className='flex flex-row items-center justify-center p-4 select-none cursor-pointer hover:underline text-gray-800' onClick={() => onClick({ type: 'block', user, action })}>\n\t\t\t<BanIcon className=' h-8 w-8 mr-2' />\n\t\t\t<span>Block</span>\n\t\t</div>\n\t</div>\n)\n\nconst UnlikeButton = ({ user, action, setModal, id }) => (\n\t<div className='flex-1 w-1/3'>\n\t\t<div className='flex flex-row items-center justify-center p-4 select-none cursor-pointer hover:underline text-pink-500 ' onClick={() => setModal({ type: 'unlike', user, action, likeid: id })}>\n\t\t\t<HeartIcon className=' h-8 w-8 mr-2' />\n\t\t\t<span>Unlike</span>\n\t\t</div>\n\t</div>\n)\n\nconst LikeButton = ({ onClick }) => (\n\t<div className='flex-1 w-1/3'>\n\t\t<div className='flex flex-row items-center justify-center p-4 select-none cursor-pointer hover:underline text-gray-800 hover:text-pink-500 transition duration-500 ease-in-out' onClick={() => onClick({ type: 'new' })}>\n\t\t\t<HeartIcon className=' h-8 w-8 mr-2' />\n\t\t\t<span>Like</span>\n\t\t</div>\n\t</div>\n)\n\nconst CantLikeButton = () => (\n\t<div className='flex-1 w-1/3'>\n\t\t<div className='flex flex-row items-center justify-center p-4 select-none text-gray-500' data-tip='Your profile needs an avatar before you can leave likes'>\n\t\t\t<HeartIcon className=' h-8 w-8 mr-2' />\n\t\t\t<span>Like</span>\n\t\t\t<ReactTooltip />\n\t\t</div>\n\t</div>\n)\n\nconst Actions = ({ user, handleLike, askConfirm, setModal, handleReport, handleBlock }) => {\n\tconst { avatar } = useSelector(state => state.user)\n\tconst { profile } = useSelector(state => state.public)\n\tconst { reports, likes } = useSelector(state => state.match)\n\n\tconst reported = reports.find(r => r.receiver === profile.id) ? true : false\n\tconst liked = likes.find(r => r.receiver === profile.id)\n\n\treturn (\n\t\t<div className=\"w-full flex sm:px-4\" >\n\t\t\t{avatar\n\t\t\t\t? liked\n\t\t\t\t\t? <UnlikeButton user={user} action={handleLike} setModal={setModal} id={liked.id}/>\n\t\t\t\t\t: <LikeButton onClick={handleLike} />\n\t\t\t\t: <CantLikeButton />\n\t\t\t}\n\t\t\t{reported\n\t\t\t\t? <CantReportButton />\n\t\t\t\t: <ReportButton user={user.firstname} onClick={askConfirm} action={handleReport} />\n\t\t\t}\n\t\t\t<BlockButton user={user.firstname} onClick={askConfirm} action={handleBlock} />\n\t\t</div>\n\t)\n}\n\nexport default Actions","import Wrapper from './Wrapper'\nimport Heading from './forms/Heading'\nimport { useEffect } from 'react'\n\nconst Confirm = ({ dialog, setDialog }) => {\n\tconst handler = (event) => {\n\t\tif (event.target.id === 'confirmContainer') {\n\t\t\tsetDialog(null)\n\t\t}\n\t}\n\tuseEffect(() => {\n\t\tif (dialog && setDialog) {\n\t\t\twindow.addEventListener('click', handler)\n\t\t\treturn () => {\n\t\t\t\twindow.removeEventListener('click', handler)\n\t\t\t}\n\t\t}\n\t}, [dialog])\n\treturn (\n\t\t!dialog\n\t\t\t? null\n\t\t\t: (<div className={dialog ? 'block' : 'hidden'}>\n\t\t\t\t<div className=\"fixed z-0 inset-0 bg-black opacity-30\"></div>\n\t\t\t\t<div className='fixed inset-0 flex items-center justify-center slideDown' id='confirmContainer'>\n\t\t\t\t\t<Wrapper>\n\t\t\t\t\t\t<Heading title={dialog.type === 'report' ? 'Report' : 'Block'} />\n\t\t\t\t\t\t{dialog.type === 'block' && <p className='mb-4'>Blocked users will not appear in any of your search results or notifications.</p>}\n\t\t\t\t\t\t<p className='mb-4'>Are you sure you want to {dialog.type} user {dialog.user}?</p>\n\t\t\t\t\t\t<div className='flex flex-row justify-between'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName='rounded bg-green-500 hover:bg-green-600 text-white mr-2 p-4 w-1/2'\n\t\t\t\t\t\t\t\tonClick={() => dialog.action()}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tConfirm\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName='rounded bg-green-500 hover:bg-green-600 text-white ml-2 p-4 w-1/2'\n\t\t\t\t\t\t\t\tonClick={() => setDialog(null)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Wrapper>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t)\n\t)\n}\n\nexport default Confirm\n","import Wrapper from './Wrapper'\nimport Heading from './forms/Heading'\nimport { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nconst MatchModal = ({ modal, setModal }) => {\n\tconst { matches } = useSelector(state => state.match)\n\n\tconst handler = (event) => {\n\t\tif (event.target.id === 'modalContainer') {\n\t\t\tsetModal(null)\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tif (modal && setModal) {\n\t\t\twindow.addEventListener('click', handler)\n\t\t\treturn () => {\n\t\t\t\twindow.removeEventListener('click', handler)\n\t\t\t}\n\t\t}\n\t}, [modal])\n\n\treturn (\n\t\t!modal\n\t\t\t? null\n\t\t\t: (<div className={modal ? 'block' : 'hidden'}>\n\t\t\t\t<div className=\"fixed z-0 inset-0 bg-black opacity-30\"></div>\n\t\t\t\t<div className='fixed inset-0 flex items-center justify-center slideDown' id='modalContainer'>\n\t\t\t\t\t{modal.type === 'unlike' &&\n\t\t\t\t\t\t<Wrapper>\n\t\t\t\t\t\t\t<Heading title='Unlike' />\n\t\t\t\t\t\t\t{matches.find(match => match.id === modal.user.id)\n\t\t\t\t\t\t\t\t? <>\n\t\t\t\t\t\t\t\t\t<p className='mb-4'>Are you sure you want to unlike {modal.user.firstname}?</p>\n\t\t\t\t\t\t\t\t\t<p className='mb-4'>This will also remove them from your matches.</p>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t: <p className='mb-4'>Are you sure you want to unlike {modal.user.firstname}?</p>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<div className='flex flex-row justify-between'>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='rounded bg-green-500 hover:bg-green-600 text-white mr-2 p-4 w-1/2'\n\t\t\t\t\t\t\t\t\tonClick={() => modal.action({ type: 'remove', likeid: modal.likeid })}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tConfirm\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='rounded bg-green-500 hover:bg-green-600 text-white ml-2 p-4 w-1/2'\n\t\t\t\t\t\t\t\t\tonClick={() => setModal(null)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Wrapper>\n\t\t\t\t\t}\n\t\t\t\t\t{modal.type === 'match' &&\n\t\t\t\t\t\t<Wrapper>\n\t\t\t\t\t\t\t<Heading title='You got a match!' />\n\t\t\t\t\t\t\t<p className='mb-4 text-center'>You can now chat with {modal.user.firstname}!</p>\n\t\t\t\t\t\t\t<div className='flex flex-row justify-between'>\n\t\t\t\t\t\t\t\t<Link to='/matches' className=' w-1/2'>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName='rounded bg-green-500 hover:bg-green-600 text-white mr-4 p-4 w-full h-full'\n\t\t\t\t\t\t\t\t\t\tonClick={() => setModal(null)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tView matches\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='rounded bg-green-500 hover:bg-green-600 text-white ml-4 p-4 w-1/2'\n\t\t\t\t\t\t\t\t\tonClick={() => setModal(null)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tContinue browsing\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Wrapper>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>)\n\t)\n}\n\nexport default MatchModal\n","import { useSelector, useDispatch } from 'react-redux'\nimport Wrapper from '../../ui/Wrapper'\nimport TopBar from './TopBar'\nimport Image from './Image'\nimport Info from './Info'\nimport Actions from './Actions'\nimport { useEffect, useState } from 'react'\nimport { getUserById } from '../../../reducers/publicReducer'\nimport { profileView, profileLike, profileReport, profileBlock } from '../../../reducers/matchReducer'\n\nimport Confirm from '../../ui/Confirm'\nimport MatchModal from '../../ui/MatchModal'\n\nconst PublicProfile = ({ profileId }) => {\n\tconst dispatch = useDispatch()\n\tconst { profile } = useSelector(state => state.public)\n\tconst { id } = useSelector(state => state.user)\n\tconst { publicLikes, matches, likes } = useSelector(state => state.match)\n\tconst [modal, setModal] = useState(null)\n\tconst [dialog, setDialog] = useState(null)\n\tconst [wait, setWait] = useState(false)\n\n\tconst hasLiked = publicLikes.find(i => i.sender === profileId)\n\tconst isLiked = likes.find(i => i.receiver === profileId)\n\tconst isMatch = matches.find(i => i.id === profileId)\n\n\tuseEffect(async () => {\n\t\tawait dispatch(profileView({ from: id, to: profileId }))\n\t\tawait dispatch(getUserById(profileId))\n\t\twindow.scroll({\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tbehavior: 'smooth',\n\t\t})\n\t}, [dispatch])\n\n\tuseEffect(() => {\n\t\tif (wait) {\n\t\t\tif (matches.find(match => match.id === profileId)) {\n\t\t\t\tsetModal({ type: 'match', user: profile })\n\t\t\t}\n\t\t\tsetWait(false)\n\t\t}\n\t}, [matches])\n\n\tconst handleLike = async ({ type, likeid }) => {\n\t\tawait dispatch(profileLike({ from: id, to: profileId, type: type, id: likeid }))\n\t\tif (type === 'remove') {\n\t\t\tsetModal(null)\n\t\t}\n\t\tawait dispatch(getUserById(profileId))\n\t\tif (type === 'new') {\n\t\t\tsetWait(true)\n\t\t}\n\t}\n\n\tconst handleReport = async () => {\n\t\tawait dispatch(profileReport({ from: id, to: profileId }))\n\t\tsetDialog(null)\n\t\tawait dispatch(getUserById(profileId))\n\t}\n\n\tconst handleBlock = async () => {\n\t\tawait dispatch(profileBlock({ from: id, to: profileId, type: 'new' }))\n\t}\n\n\tif (!profile) {\n\t\treturn (\n\t\t\t<Wrapper>\n\t\t\t\t<div className='text-center'>\n\t\t\t\t\tLoading user profile...\n\t\t\t\t</div>\n\t\t\t</Wrapper>\n\t\t)\n\t} else {\n\t\treturn (\n\t\t\t<div className='max-w-screen-sm mx-auto px-2 slideDown'>\n\t\t\t\t<div className='flex flex-col justify-center bg-white rounded ui-shadow'>\n\t\t\t\t\t<TopBar\n\t\t\t\t\t\tfirstname={profile.firstname}\n\t\t\t\t\t\tage={profile.age}\n\t\t\t\t\t\tonline={profile.online}\n\t\t\t\t\t/>\n\t\t\t\t\t<Image\n\t\t\t\t\t\timage={profile.avatar}\n\t\t\t\t\t\tstatus={\n\t\t\t\t\t\t\tisMatch\n\t\t\t\t\t\t\t\t? 'match'\n\t\t\t\t\t\t\t\t:\tisLiked\n\t\t\t\t\t\t\t\t\t? 'liked'\n\t\t\t\t\t\t\t\t\t: hasLiked\n\t\t\t\t\t\t\t\t\t\t? 'likes you'\n\t\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<Info\n\t\t\t\t\t\tname={profile.firstname + ' ' + profile.lastname}\n\t\t\t\t\t\tage={profile.age}\n\t\t\t\t\t\tfame={profile.fame}\n\t\t\t\t\t\tlat={profile.latitude}\n\t\t\t\t\t\tlng={profile.longitude}\n\t\t\t\t\t\tgender={profile.gender}\n\t\t\t\t\t\torientation={profile.orientation}\n\t\t\t\t\t\tbio={profile.bio}\n\t\t\t\t\t\ttags={profile.tags}\n\t\t\t\t\t\tonline={profile.online}\n\t\t\t\t\t\tlogin={profile.last_login}\n\t\t\t\t\t/>\n\t\t\t\t\t<Actions\n\t\t\t\t\t\tuser={profile}\n\t\t\t\t\t\thandleLike={handleLike}\n\t\t\t\t\t\taskConfirm={setDialog}\n\t\t\t\t\t\tsetModal={setModal}\n\t\t\t\t\t\thandleReport={handleReport}\n\t\t\t\t\t\thandleBlock={handleBlock}\n\t\t\t\t\t/>\n\t\t\t\t\t<Confirm dialog={dialog} setDialog={setDialog} />\n\t\t\t\t\t<MatchModal modal={modal} setModal={setModal} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default PublicProfile\n","import { XIcon } from '@heroicons/react/outline'\nimport { useHistory } from 'react-router-dom'\n\nconst TopBar = ({ online, firstname, age }) => {\n\tlet history = useHistory()\n\n\treturn (\n\t\t<div className=\"w-full flex items-center justify-between p-4 overflow-hidden\" >\n\t\t\t<section className=\"flex items-center overflow-hidden w-2/3\">\n\t\t\t\t{online\n\t\t\t\t\t? <span className='text-green-500'>●&nbsp;</span>\n\t\t\t\t\t: <span className='text-red-500'>●&nbsp;</span>\n\t\t\t\t}\n\t\t\t\t<span className='truncate text-2xl'>{firstname}</span>\n\t\t\t\t,\n\t\t\t\t<span className='ml-2 text-2xl'>{age}</span>\n\t\t\t</section>\n\t\t\t<section className=\"flex items-center cursor-pointer select-none\" onClick={() => history.goBack()}>\n\t\t\t\t<span className='sm:block hidden'>Back to browse</span>\n\t\t\t\t<XIcon className='ml-2 h-8 w-8' />\n\t\t\t</section>\n\t\t</div>\n\t)\n}\n\nexport default TopBar","import { HeartIcon as MatchIcon } from '@heroicons/react/solid'\n\nconst Image = ({ image }) => {\n\tconst divStyle = {\n\t\theight: '300px',\n\t\tmaxHeight: '100%',\n\t\twidth: '100%',\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center',\n\t\toverflow: 'hidden',\n\t\tbackgroundColor: 'rgba(248,247,251,255)',\n\t\tposition: 'relative'\n\t}\n\n\tconst imgStyle = {\n\t\tobjectFit: 'contain',\n\t\theight: 'auto',\n\t\twidth: '100%',\n\t\tmaxHeight: '100%',\n\t\tmaxWidth: '100%',\n\t\tmargin: 'auto',\n\t}\n\n\treturn (\n\t\t<div style={divStyle} >\n\t\t\t<img src={image ? image : 'https://villagesonmacarthur.com/wp-content/uploads/2020/12/Blank-Avatar.png'} alt='avatar' style={imgStyle} />\n\t\t\t<div className='absolute bottom-2 right-2 bg-white rounded-full shadow '>\n\t\t\t\t<div className='flex flex-row items-center p-1'>\n\t\t\t\t\t<MatchIcon className='h-6 w-6 text-pink-500' />\n\t\t\t\t\t<span>match</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Image","import TimeAgo from 'react-timeago'\nimport { FireIcon, LocationMarkerIcon } from '@heroicons/react/outline'\nimport { useSelector } from 'react-redux'\nimport { getDistance, convertDistance } from 'geolib'\nimport ReactTooltip from 'react-tooltip'\n\nconst Info = ({ name, fame, age, lat, lng, gender, orientation, bio, tags, online, login }) => {\n\tconst { latitude, longitude } = useSelector(state => state.user)\n\n\tconst fieldStyle = {\n\t\tborderBottomWidth: '1px',\n\t\tborderColor: '#dae4e9',\n\t}\n\n\tconst distance = () => {\n\t\tconst meters = getDistance(\n\t\t\t{ latitude: lat, longitude: lng },\n\t\t\t{ latitude: latitude, longitude: longitude }\n\t\t)\n\t\tconst km = Math.ceil(convertDistance(meters, 'km'))\n\n\t\treturn (\n\t\t\t<span className='text-lg text-gray-600'>{`\n\t\t\t${km} km away\n\t\t\t`}</span>\n\t\t)\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"w-full flex flex-col p-4\" style={fieldStyle}>\n\t\t\t\t<section className=\"flex justify-between items-center\">\n\t\t\t\t\t<strong className='break-words overflow-hidden text-xl'>{name}</strong>\n\t\t\t\t\t<strong className='text-xl'>{age}</strong>\n\t\t\t\t</section>\n\t\t\t\t<section className=\"flex justify-between items-center mt-2 mb-4\">\n\t\t\t\t\t<section className=\"flex\" data-tip data-for='hoverImage'>\n\t\t\t\t\t\t<LocationMarkerIcon className='h-6 w-6 mr-1' />\n\t\t\t\t\t\t{distance()}\n\t\t\t\t\t\t<ReactTooltip id='hoverImage'>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\t\t\tmaxHeight: '400px',\n\t\t\t\t\t\t\t\t\twidth: 'auto',\n\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={`https://maps.googleapis.com/maps/api/staticmap?size=500x400&zoom=4&markers=size:normal%7C${lat},${lng}&key=${process.env.REACT_APP_API_KEY}`}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tobjectFit: 'contain',\n\t\t\t\t\t\t\t\t\t\theight: 'auto',\n\t\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\t\tmaxHeight: '100%',\n\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\n\t\t\t\t\t\t\t\t\t\tmargin: 'auto',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\talt='location'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</ReactTooltip>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section className=\"flex \">\n\t\t\t\t\t\t<FireIcon className='h-6 w-6 mr-1' />\n\t\t\t\t\t\t<span className='text-lg text-gray-600'>{fame}</span>\n\t\t\t\t\t</section>\n\t\t\t\t</section>\n\t\t\t\t<p className='break-words'>{bio}</p>\n\t\t\t</div>\n\t\t\t<div className=\"w-full flex items-center p-4\" style={fieldStyle}>\n\t\t\t\t<p>{gender} looking for {orientation.join(', ')}</p>\n\t\t\t</div>\n\t\t\t<div className=\"w-full flex items-center p-4\" style={fieldStyle}>\n\t\t\t\t<p>{tags.join(' ')}</p>\n\t\t\t</div>\n\t\t\t<div className=\"w-full flex items-center p-4\" style={fieldStyle}>\n\t\t\t\t{online\n\t\t\t\t\t? <p>online</p>\n\t\t\t\t\t: <p>last online <TimeAgo date={login} live={false} /></p>\n\t\t\t\t}\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nexport default Info","import { HeartIcon, FlagIcon, BanIcon } from '@heroicons/react/solid'\nimport { useSelector } from 'react-redux'\nimport ReactTooltip from 'react-tooltip'\n\nconst ReportButton = ({ user, onClick, action }) => (\n\t<div className='flex-1 w-1/3'>\n\t\t<div className='flex flex-row items-center justify-center p-4 select-none cursor-pointer hover:underline text-gray-800' onClick={() => onClick({ type: 'report', user, action })}>\n\t\t\t<FlagIcon className=' h-8 w-8 mr-2' />\n\t\t\t<span>Report</span>\n\t\t</div>\n\t</div>\n)\n\nconst CantReportButton = () => (\n\t<div className='flex-1 w-1/3'>\n\t\t<div className='flex flex-row items-center justify-center p-4 select-none text-gray-500' data-tip='You have already reported this user'>\n\t\t\t<FlagIcon className=' h-8 w-8 mr-2' />\n\t\t\t<span>Report</span>\n\t\t\t<ReactTooltip />\n\t\t</div>\n\t</div>\n)\n\nconst BlockButton = ({ user, onClick, action }) => (\n\t<div className='flex-1 w-1/3'>\n\t\t<div className='flex flex-row items-center justify-center p-4 select-none cursor-pointer hover:underline text-gray-800' onClick={() => onClick({ type: 'block', user, action })}>\n\t\t\t<BanIcon className=' h-8 w-8 mr-2' />\n\t\t\t<span>Block</span>\n\t\t</div>\n\t</div>\n)\n\nconst UnlikeButton = ({ user, action, setModal, id }) => (\n\t<div className='flex-1 w-1/3'>\n\t\t<div className='flex flex-row items-center justify-center p-4 select-none cursor-pointer hover:underline text-pink-500 ' onClick={() => setModal({ type: 'unlike', user, action, likeid: id })}>\n\t\t\t<HeartIcon className=' h-8 w-8 mr-2' />\n\t\t\t<span>Unlike</span>\n\t\t</div>\n\t</div>\n)\n\nconst LikeButton = ({ onClick }) => (\n\t<div className='flex-1 w-1/3'>\n\t\t<div className='flex flex-row items-center justify-center p-4 select-none cursor-pointer hover:underline text-gray-800 hover:text-pink-500 transition duration-500 ease-in-out' onClick={() => onClick({ type: 'new' })}>\n\t\t\t<HeartIcon className=' h-8 w-8 mr-2' />\n\t\t\t<span>Like</span>\n\t\t</div>\n\t</div>\n)\n\nconst CantLikeButton = () => (\n\t<div className='flex-1 w-1/3'>\n\t\t<div className='flex flex-row items-center justify-center p-4 select-none text-gray-500' data-tip='Your profile needs an avatar before you can leave likes'>\n\t\t\t<HeartIcon className=' h-8 w-8 mr-2' />\n\t\t\t<span>Like</span>\n\t\t\t<ReactTooltip />\n\t\t</div>\n\t</div>\n)\n\nconst Actions = ({ user, handleLike, askConfirm, setModal, handleReport, handleBlock }) => {\n\tconst { avatar } = useSelector(state => state.user)\n\tconst { reports, likes } = useSelector(state => state.match)\n\n\tconst reported = reports.find(r => r.receiver === user.id) ? true : false\n\tconst liked = likes.find(r => r.receiver === user.id)\n\n\treturn (\n\t\t<div className=\"w-full flex sm:px-4\" >\n\t\t\t{avatar\n\t\t\t\t? liked\n\t\t\t\t\t? <UnlikeButton user={user} action={handleLike} setModal={setModal} id={liked.id}/>\n\t\t\t\t\t: <LikeButton onClick={handleLike} />\n\t\t\t\t: <CantLikeButton />\n\t\t\t}\n\t\t\t{reported\n\t\t\t\t? <CantReportButton />\n\t\t\t\t: <ReportButton user={user.firstname} onClick={askConfirm} action={handleReport} />\n\t\t\t}\n\t\t\t<BlockButton user={user.firstname} onClick={askConfirm} action={handleBlock} />\n\t\t</div>\n\t)\n}\n\nexport default Actions","import { useSelector, useDispatch } from 'react-redux'\nimport Wrapper from '../../ui/Wrapper'\nimport TopBar from './TopBar'\nimport Image from './Image'\nimport Info from './Info'\nimport Actions from './Actions'\nimport { useEffect, useState } from 'react'\nimport { profileLike, profileReport, profileBlock } from '../../../reducers/matchReducer'\n\nimport Confirm from '../../ui/Confirm'\nimport MatchModal from '../../ui/MatchModal'\n\nconst MatchProfile = ({ profile }) => {\n\tconst dispatch = useDispatch()\n\tconst { id } = useSelector(state => state.user)\n\tconst [modal, setModal] = useState(null)\n\tconst [dialog, setDialog] = useState(null)\n\n\tuseEffect(() => {\n\t\twindow.scroll({\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tbehavior: 'smooth',\n\t\t})\n\t}, [])\n\n\tconst handleLike = async ({ type, likeid }) => {\n\t\tawait dispatch(profileLike({ from: id, to: profile.id, type: type, id: likeid }))\n\t\tif (type === 'remove') {\n\t\t\tsetModal(null)\n\t\t}\n\t}\n\n\tconst handleReport = async () => {\n\t\tawait dispatch(profileReport({ from: id, to: profile.id }))\n\t\tsetDialog(null)\n\t}\n\n\tconst handleBlock = async () => {\n\t\tawait dispatch(profileBlock({ from: id, to: profile.id, type: 'new' }))\n\t\tsetDialog(null)\n\t}\n\n\tif (!profile) {\n\t\treturn (\n\t\t\t<Wrapper>\n\t\t\t\t<div className='text-center'>\n\t\t\t\t\tLoading user profile...\n\t\t\t\t</div>\n\t\t\t</Wrapper>\n\t\t)\n\t} else {\n\t\treturn (\n\t\t\t<div className='max-w-screen-sm mx-auto px-2 slideDown'>\n\t\t\t\t<div className='flex flex-col justify-center bg-white rounded ui-shadow'>\n\t\t\t\t\t<TopBar\n\t\t\t\t\t\tfirstname={profile.firstname}\n\t\t\t\t\t\tage={profile.age}\n\t\t\t\t\t\tonline={profile.online}\n\t\t\t\t\t/>\n\t\t\t\t\t<Image\n\t\t\t\t\t\timage={profile.avatar}\n\t\t\t\t\t/>\n\t\t\t\t\t<Info\n\t\t\t\t\t\tname={profile.firstname + ' ' + profile.lastname}\n\t\t\t\t\t\tage={profile.age}\n\t\t\t\t\t\tfame={profile.fame}\n\t\t\t\t\t\tlat={profile.latitude}\n\t\t\t\t\t\tlng={profile.longitude}\n\t\t\t\t\t\tgender={profile.gender}\n\t\t\t\t\t\torientation={profile.orientation}\n\t\t\t\t\t\tbio={profile.bio}\n\t\t\t\t\t\ttags={profile.tags}\n\t\t\t\t\t\tonline={profile.online}\n\t\t\t\t\t\tlogin={profile.last_login}\n\t\t\t\t\t/>\n\t\t\t\t\t<Actions\n\t\t\t\t\t\tuser={profile}\n\t\t\t\t\t\thandleLike={handleLike}\n\t\t\t\t\t\taskConfirm={setDialog}\n\t\t\t\t\t\tsetModal={setModal}\n\t\t\t\t\t\thandleReport={handleReport}\n\t\t\t\t\t\thandleBlock={handleBlock}\n\t\t\t\t\t/>\n\t\t\t\t\t<Confirm dialog={dialog} setDialog={setDialog} />\n\t\t\t\t\t<MatchModal modal={modal} setModal={setModal}/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default MatchProfile\n","import { Link, useParams } from 'react-router-dom'\nimport Wrapper from '../ui/Wrapper'\nimport Heading from '../ui/forms/Heading'\nimport PasswordField from '../ui/forms/PasswordField'\nimport SubmitButton from '../ui/forms/SubmitButton'\nimport validate from '../../utils/validate'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { setError, setNotif } from '../../reducers/formReducer'\nimport { reset } from '../../reducers/userReducer'\n\nconst ResetPage = () => {\n\tconst { errorMessage } = useSelector(state => state.form)\n\tconst { notification } = useSelector(state => state.form)\n\tconst dispatch = useDispatch()\n\tlet { token } = useParams()\n\n\tconst handleSubmit = (event) => {\n\t\tevent.preventDefault()\n\n\t\tconst password = event.target.password.value\n\t\tconst check = validate({ password: password })\n\t\tif (check.password) {\n\t\t\tdispatch(setError(check.password))\n\t\t} else {\n\t\t\tdispatch(reset({ password, token }))\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Wrapper>\n\t\t\t\t<Heading title='Password reset' />\n\t\t\t\t{notification && <div className='mb-4 text-center text-green-500'>{notification}</div>}\n\t\t\t\t{notification === ''\n\t\t\t\t\t? <><form onSubmit={handleSubmit}>\n\t\t\t\t\t\t<label>Please enter a new password for your account</label>\n\t\t\t\t\t\t<PasswordField />\n\t\t\t\t\t\t<div className='text-red-500 mb-4'>{errorMessage}</div>\n\t\t\t\t\t\t<SubmitButton text='Set new password' />\n\t\t\t\t\t</form>\n\t\t\t\t\t<div className='text-center'>\n\t\t\t\t\t\t<Link to='/login' style={{ color: '#3490dc' }} >\n\t\t\t\t\t\t\tBack to login\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t\t: <div className='text-center'>\n\t\t\t\t\t\t<Link to='/login' style={{ color: '#3490dc' }} >\n\t\t\t\t\t\t\tBack to login\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\n\t\t\t</Wrapper>\n\t\t</>\n\t)\n}\n\nexport default ResetPage","import { useSelector, useDispatch } from 'react-redux'\nimport imageCompression from 'browser-image-compression'\n\nconst UserImage = () => {\n\tconst { photoStr } = useSelector(state => state.form)\n\tconst dispatch = useDispatch()\n\n\tconst baseStyle = {\n\t\tdisplay: 'block',\n\t\tborderWidth: '1px',\n\t\tborderColor: '#dae4e9',\n\t\tborderRadius: '.25rem',\n\t\twidth: '100%',\n\t\tpadding: '.75rem',\n\t\tmarginBottom: '1rem',\n\t}\n\n\tconst imgStyle = {\n\t\twidth: 'auto',\n\t\theight: 'auto',\n\t\tmaxWidth: '100%',\n\t\tmaxHeight: '300px',\n\t\tmargin: 'auto',\n\t}\n\n\tconst handleImage = async (event) => {\n\t\tevent.preventDefault()\n\n\t\tconst imageFile = event.target.files[0]\n\n\t\tconst options = {\n\t\t\tmaxSizeMB: 0.5,\n\t\t\tmaxWidthOrHeight: 1920,\n\t\t\tuseWebWorker: true\n\t\t}\n\n\t\tif (!imageFile) {\n\t\t\treturn\n\t\t} else if (imageFile.size > 1000000) {\n\t\t\tdispatch({\n\t\t\t\ttype: 'ERROR',\n\t\t\t\tdata: 'Max file size is 1Mb'\n\t\t\t})\n\t\t\tevent.target.value = null\n\t\t\treturn\n\t\t}\n\n\t\ttry {\n\t\t\tconst compressedFile = await imageCompression(imageFile, options)\n\t\t\tconst objectURL = URL.createObjectURL(compressedFile)\n\t\t\tdispatch({\n\t\t\t\ttype: 'PREVIEW',\n\t\t\t\tdata: objectURL\n\t\t\t})\n\t\t\tdispatch({\n\t\t\t\ttype: 'CLEAR',\n\t\t\t})\n\t\t} catch (error) {\n\t\t\tif (error.target instanceof HTMLElement) {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: 'ERROR',\n\t\t\t\t\tdata: 'Not a valid image file'\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: 'ERROR',\n\t\t\t\t\tdata: 'Image upload failed'\n\t\t\t\t})\n\t\t\t}\n\t\t\tevent.target.value = null\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div className='mb-4 mx-auto'>\n\t\t\t\t{photoStr && <img src={photoStr} alt='avatar' style={imgStyle} />}\n\t\t\t</div>\n\t\t\t<label>Profile picture</label>\n\t\t\t<input name='photo' type='file' style={baseStyle} onChange={handleImage} accept=\".png, .jpg .jpeg\" />\n\t\t</>\n\t)\n}\n\nexport default UserImage","import Select from 'react-select'\nimport { useSelector, useDispatch } from 'react-redux'\n\nconst UserGender = () => {\n\tconst { gender } = useSelector(state => state.form)\n\tconst dispatch = useDispatch()\n\n\tconst selected = () => gender ? { value: gender, label: gender } : ''\n\n\tconst options = [\n\t\t{ value: 'male', label: 'male' },\n\t\t{ value: 'female', label: 'female' },\n\t\t{ value: 'other', label: 'other' },\n\t]\n\n\tconst handleChange = (option) => {\n\t\tdispatch({\n\t\t\ttype: 'GENDER',\n\t\t\tdata: {\n\t\t\t\tgender: option.value\n\t\t\t}\n\t\t})\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<label>Gender</label>\n\t\t\t<Select\n\t\t\t\tname='gender'\n\t\t\t\tvalue={selected()}\n\t\t\t\tonChange={handleChange}\n\t\t\t\toptions={options}\n\t\t\t\tclassName='mb-4'\n\t\t\t/>\n\t\t</>\n\t)\n}\n\nexport default UserGender","import Select from 'react-select'\nimport { useSelector, useDispatch } from 'react-redux'\n\nconst UserOrientation = () => {\n\tconst { orientation } = useSelector(state => state.form)\n\tconst dispatch = useDispatch()\n\n\tconst selected = () => orientation ? orientation.map(o => ({ value: o, label: o })) : []\n\n\tconst options = [\n\t\t{ value: 'male', label: 'male' },\n\t\t{ value: 'female', label: 'female' },\n\t\t{ value: 'other', label: 'other' },\n\t]\n\n\tconst handleChange = (option) => {\n\t\tconst current = Array.isArray(option) ? option.map(i => i.value) : []\n\t\tdispatch({\n\t\t\ttype: 'ORIENTATION',\n\t\t\tdata: {\n\t\t\t\torientation: current\n\t\t\t}\n\t\t})\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<label>Looking for</label>\n\t\t\t<Select\n\t\t\t\tisMulti\n\t\t\t\tname='orientation'\n\t\t\t\tvalue={selected()}\n\t\t\t\tonChange={handleChange}\n\t\t\t\toptions={options}\n\t\t\t\tclassName='mb-4'\n\t\t\t/>\n\t\t</>\n\t)\n}\n\nexport default UserOrientation","import { useSelector, useDispatch } from 'react-redux'\n\nconst UserBio = () => {\n\tconst { bio } = useSelector(state => state.form)\n\tconst dispatch = useDispatch()\n\n\tconst baseStyle = {\n\t\tdisplay: 'block',\n\t\tborderWidth: '1px',\n\t\tborderColor: '#dae4e9',\n\t\tborderRadius: '.25rem',\n\t\twidth: '100%',\n\t\tpadding: '.75rem',\n\t\tmarginBottom: '1rem',\n\t\tresize: 'none',\n\t}\n\n\tconst handleChange = (event) => {\n\t\tevent.preventDefault()\n\t\tdispatch({\n\t\t\ttype: 'BIO',\n\t\t\tdata: {\n\t\t\t\tbio: event.target.value\n\t\t\t}\n\t\t})\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<label>About me</label>\n\t\t\t<textarea type='text' maxLength='280' defaultValue={bio ? bio : ''} name='bio' style={baseStyle} onBlur={handleChange} className='' />\n\t\t</>\n\t)\n}\n\nexport default UserBio","import CreatableSelect from 'react-select/creatable'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useEffect } from 'react'\nimport { getTags } from '../../../reducers/publicReducer'\n\nconst UserTags = () => {\n\tconst { tags } = useSelector(state => state.form)\n\tconst { allTags } = useSelector(state => state.public)\n\tconst dispatch = useDispatch()\n\n\tuseEffect(() => {\n\t\tdispatch(getTags())\n\t}, [])\n\n\tconst selected = () => tags ? tags.map(o => ({ value: o, label: o })) : []\n\tconst options = () => allTags ? allTags.map(o => ({ value: o, label: o })) : []\n\n\tconst handleChange = (option) => {\n\t\tconst current = Array.isArray(option) ? option.map(i => (i.value.substr(0, 1) !== '#' ? '#' : '') + i.value) : []\n\t\tdispatch({\n\t\t\ttype: 'TAGS',\n\t\t\tdata: {\n\t\t\t\ttags: current\n\t\t\t}\n\t\t})\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<label>My interests</label>\n\t\t\t<CreatableSelect\n\t\t\t\tisMulti\n\t\t\t\tname='tags'\n\t\t\t\tplaceholder='Select or type...'\n\t\t\t\tvalue={selected()}\n\t\t\t\toptions={options()}\n\t\t\t\tonChange={handleChange}\n\t\t\t\tclassName='mb-4'\n\t\t\t/>\n\t\t</>\n\t)\n}\n\nexport default UserTags","import { useState } from 'react'\n\nconst Togglable = (props) => {\n\tconst [visible, setVisible] = useState(false)\n\n\tconst showWhenVisible = { display: visible ? '' : 'none' }\n\n\tconst toggleVisibility = (event) => {\n\t\tevent.preventDefault()\n\t\tsetVisible(!visible)\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div className='flex justify-between my-4'>\n\t\t\t\t<p className=' font-bold'>{props.text || ''}</p>\n\t\t\t\t<button style={{ color: '#3490dc' }} tabIndex={-1} onClick={toggleVisibility}>{visible ? 'Hide' : 'Show'}</button>\n\t\t\t</div>\n\t\t\t<div style={showWhenVisible}>\n\t\t\t\t{props.children}\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nexport default Togglable","import { useSelector, useDispatch } from 'react-redux'\nimport { GoogleMap, useJsApiLoader, Marker, Circle } from '@react-google-maps/api'\nimport { update } from '../../../reducers/userReducer'\nimport { getUsers } from '../../../reducers/publicReducer'\nimport { useCallback, useEffect, useState } from 'react'\nimport parse from '../../../utils/parse'\n\nconst UserLocation = () => {\n\tconst { latitude, longitude } = useSelector(state => state.user)\n\tconst { id, orientation, gender, bio, tags } = useSelector(state => state.user)\n\tconst { ids, users, sortFilter, filterSliders } = useSelector(state => state.public)\n\tconst { blocks } = useSelector(state => state.match)\n\tconst dispatch = useDispatch()\n\n\tuseEffect(async () => {\n\t\tif (ids) {\n\t\t\tawait dispatch(getUsers([], { ...filterSliders, distance: 100000 }, sortFilter, tags, latitude, longitude, blocks))\n\t\t}\n\t}, [ids])\n\n\tconst { isLoaded } = useJsApiLoader({\n\t\tid: 'google-map-script',\n\t\tgoogleMapsApiKey: process.env.REACT_APP_API_KEY,\n\t})\n\tconst [map, setMap] = useState(null)\n\n\tconst onLoad = useCallback((map) => {\n\t\tconst extendedZoomAccuracy = 0.007\n\t\tconst bounds = new window.google.maps.LatLngBounds()\n\t\tbounds.extend(center)\n\n\t\tif (bounds.getNorthEast().equals(bounds.getSouthWest())) {\n\t\t\tconst extendPoint = new window.google.maps.LatLng(\n\t\t\t\tbounds.getNorthEast().lat() + extendedZoomAccuracy,\n\t\t\t\tbounds.getNorthEast().lng() + extendedZoomAccuracy\n\t\t\t)\n\t\t\tbounds.extend(extendPoint)\n\t\t}\n\n\t\tmap.fitBounds(bounds)\n\t\tsetMap(map)\n\t})\n\n\tconst onUnmount = useCallback((map) => {\n\t\tsetMap(null)\n\t})\n\n\tconst style = {\n\t\twidth: '100%',\n\t\theight: '100vw',\n\t\tmaxWidth: '500px',\n\t\tmaxHeight: '500px',\n\t\tmargin: 'auto',\n\t}\n\n\tconst center = {\n\t\tlat: latitude,\n\t\tlng: longitude\n\t}\n\n\tconst options = {\n\t\tcenter: center,\n\t\tzoom: 6,\n\t\tstreetViewControl: false,\n\t\tdisableDefaultUI: true,\n\t\tzoomControl: true,\n\t}\n\n\tconst handleDrag = (event) => {\n\t\tconst latitude = event.latLng.lat()\n\t\tconst longitude = event.latLng.lng()\n\n\t\tif (!latitude || !longitude) {\n\t\t\treturn\n\t\t}\n\t\tconst data = {\n\t\t\tlatitude,\n\t\t\tlongitude,\n\t\t\tgender: gender,\n\t\t\torientation: parse.oToDb(orientation),\n\t\t\ttags: (tags ? tags.map(t => t).join('') : ''),\n\t\t\tbio: bio,\n\t\t}\n\n\t\tdispatch(update(data, id))\n\t}\n\n\treturn isLoaded ? (\n\t\t<GoogleMap\n\t\t\tmapContainerStyle={style}\n\t\t\toptions={options}\n\t\t\tzoom={7}\n\t\t\tonLoad={onLoad}\n\t\t\tonUnmount={onUnmount}\n\t\t>\n\t\t\t<Marker\n\t\t\t\tposition={center}\n\t\t\t\tdraggable={true}\n\t\t\t\ton\n\t\t\t\tonDragEnd={(e) => handleDrag(e)}\n\t\t\t/>\n\t\t\t{users\n\t\t\t\t? users.length\n\t\t\t\t\t? users.map(user => {\n\t\t\t\t\t\treturn <Circle\n\t\t\t\t\t\t\tkey={user.id}\n\t\t\t\t\t\t\tcenter={{ lat: user.latitude, lng: user.longitude }}\n\t\t\t\t\t\t\tradius={10000}\n\t\t\t\t\t\t\toptions={{\n\t\t\t\t\t\t\t\tstrokeColor: '#FF0000',\n\t\t\t\t\t\t\t\tstrokeOpacity: 0.5,\n\t\t\t\t\t\t\t\tstrokeWeight: 2,\n\t\t\t\t\t\t\t\tfillColor: '#FF0000',\n\t\t\t\t\t\t\t\tfillOpacity: 0.35,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t})\n\t\t\t\t\t: null\n\t\t\t\t: null\n\t\t\t}\n\n\t\t</GoogleMap>\n\t) : <></>\n}\n\nexport default UserLocation","import Wrapper from '../ui/Wrapper'\nimport Heading from '../ui/forms/Heading'\nimport SubmitButton from '../ui/forms/SubmitButton'\nimport UserImage from '../ui/forms/UserImage'\nimport UserGender from '../ui/forms/UserGender'\nimport UserOrientation from '../ui/forms/UserOrientation'\nimport UserBio from '../ui/forms/UserBio'\nimport UserTags from '../ui/forms/UserTags'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { update } from '../../reducers/userReducer'\nimport { updateTags } from '../../reducers/publicReducer'\nimport { getLog, profileBlock } from '../../reducers/matchReducer'\nimport parse from '../../utils/parse'\nimport Togglable from '../ui/Togglable'\nimport { useEffect } from 'react'\nimport { setError, clear, populate, avatar } from '../../reducers/formReducer'\nimport PasswordField from '../ui/forms/PasswordField'\nimport validate from '../../utils/validate'\nimport UserLocation from '../ui/forms/UserLocation'\nimport TimeAgo from 'react-timeago'\nimport { Link } from 'react-router-dom'\nimport imageCompression from 'browser-image-compression'\n\nconst ProfilePage = () => {\n\tconst { id, token } = useSelector(state => state.user)\n\tconst { firstname, lastname, username, email, orientation, gender, bio, tags, errorMessage, notification } = useSelector(state => state.form)\n\tconst { blocks, log } = useSelector(state => state.match)\n\tconst dispatch = useDispatch()\n\n\tuseEffect(async () => {\n\t\tif (token && blocks && id) {\n\t\t\tawait dispatch(populate(id))\n\t\t\tawait dispatch(getLog(id))\n\t\t}\n\t}, [token, blocks, id])\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tdispatch(clear())\n\t\t}\n\t}, [])\n\n\tconst handleSubmit = async (event) => {\n\t\tevent.preventDefault()\n\t\tdispatch(clear())\n\n\t\tconst firstname = event.target.firstname.value\n\t\tconst lastname = event.target.lastname.value\n\t\tconst username = event.target.username.value\n\t\tconst email = event.target.email.value\n\t\tconst password = event.target.password.value\n\n\t\tif (email) {\n\t\t\tconst check = validate({ email: email })\n\t\t\tif (check.email) {\n\t\t\t\treturn dispatch(setError(check.email))\n\t\t\t}\n\t\t}\n\t\tif (password) {\n\t\t\tconst check = validate({ password: password })\n\t\t\tif (check.password) {\n\t\t\t\treturn dispatch(setError(check.password))\n\t\t\t}\n\t\t}\n\n\t\tlet data = {\n\t\t\tfirstname: firstname,\n\t\t\tlastname: lastname,\n\t\t\tusername: username,\n\t\t\temail: email,\n\t\t\tpassword: password,\n\t\t\tgender: gender,\n\t\t\torientation: parse.oToDb(orientation),\n\t\t\ttags: (tags ? tags.map(t => t).join('') : ''),\n\t\t\tbio: bio,\n\t\t}\n\n\t\tfor (var propName in data) {\n\t\t\tif (data[propName] === null || data[propName] === '') {\n\t\t\t\tdelete data[propName]\n\t\t\t}\n\t\t}\n\n\t\tawait dispatch(update(data, id))\n\t\tawait dispatch(updateTags(tags))\n\n\t\tif (data.firstname) {\n\t\t\tevent.target.firstname.value = ''\n\t\t}\n\t\tif (data.lastname) {\n\t\t\tevent.target.lastname.value = ''\n\t\t}\n\t\tif (data.username && !errorMessage) {\n\t\t\tevent.target.username.value = ''\n\t\t}\n\t\tif (data.email && !errorMessage) {\n\t\t\tevent.target.email.value = ''\n\t\t}\n\t\tif (data.password && !errorMessage) {\n\t\t\tevent.target.password.value = ''\n\t\t}\n\n\t\tconst imageFile = event.target.photo.files[0]\n\t\tconst reader = new FileReader()\n\n\t\tconst options = {\n\t\t\tmaxSizeMB: 0.5,\n\t\t\tmaxWidthOrHeight: 1920,\n\t\t\tuseWebWorker: true\n\t\t}\n\n\t\tif (imageFile && imageFile.size <= 1000000) {\n\t\t\ttry {\n\t\t\t\tconst compressedFile = await imageCompression(imageFile, options)\n\t\t\t\treader.readAsDataURL(compressedFile)\n\t\t\t\treader.onloadend = async () => {\n\t\t\t\t\tdispatch(avatar({ blob: reader.result }))\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tevent.target.photo.value = null\n\t\t\t}\n\t\t}\n\t}\n\n\tconst handleUnblock = async (event) => {\n\t\tevent.preventDefault()\n\t\tawait dispatch(profileBlock({ id: event.target.id, from: id, to: event.target.name, type: 'remove' }))\n\t\tdispatch({\n\t\t\ttype: 'NOTIF',\n\t\t\tdata: 'Profile updated'\n\t\t})\n\t}\n\n\tconst inputStyle = {\n\t\tborderWidth: '1px',\n\t\tborderColor: '#dae4e9',\n\t\tborderRadius: '.25rem',\n\t\tpadding: '.75rem',\n\t\twidth: '100%',\n\t\theight: '38px'\n\t}\n\n\tconst logStyle = {\n\t\tmaxHeight: '50vh',\n\t\toverflow: 'auto',\n\t}\n\n\tconst entryStyle = {\n\t\tdisplay: 'block',\n\t\tborderWidth: '1px',\n\t\tborderColor: '#dae4e9',\n\t\tborderRadius: '.25rem',\n\t\twidth: '100%',\n\t\tpadding: '.5rem',\n\t}\n\n\treturn (\n\t\t<Wrapper>\n\t\t\t<Heading title='Your profile' />\n\t\t\t{notification && <div className='mb-4 text-center text-green-500'>{notification}</div>}\n\t\t\t{errorMessage && <div className='mb-4 text-center text-red-500'>{errorMessage}</div>}\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t<Togglable text='Profile picture'>\n\t\t\t\t\t<UserImage />\n\t\t\t\t</Togglable>\n\t\t\t\t<hr className='my-4' />\n\n\t\t\t\t<Togglable text='User details'>\n\t\t\t\t\t<div className='flex mb-4'>\n\t\t\t\t\t\t<div className='inline-block mr-2 w-1/2'>\n\t\t\t\t\t\t\t<label>First name</label>\n\t\t\t\t\t\t\t<input name='firstname' type='text' style={inputStyle} placeholder={firstname} maxLength='50'/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='inline-block ml-2 w-1/2'>\n\t\t\t\t\t\t\t<label>Last name</label>\n\t\t\t\t\t\t\t<input name='lastname' type='text' style={inputStyle} placeholder={lastname} maxLength='50'/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<label>Username</label>\n\t\t\t\t\t<input name='username' type='text' style={inputStyle} placeholder={username} className='mb-4' maxLength='50'/>\n\n\t\t\t\t\t<label>Email</label>\n\t\t\t\t\t<input name='email' type='text' style={inputStyle} placeholder={email} className='mb-4' maxLength='255'/>\n\n\t\t\t\t\t<label>Password</label>\n\t\t\t\t\t<PasswordField />\n\n\t\t\t\t</Togglable>\n\t\t\t\t<hr className='my-4' />\n\n\t\t\t\t<Togglable text='Site preferences'>\n\t\t\t\t\t<UserGender />\n\n\t\t\t\t\t<UserOrientation />\n\n\t\t\t\t\t<UserTags />\n\n\t\t\t\t\t<UserBio />\n\t\t\t\t</Togglable>\n\t\t\t\t<hr className='my-4' />\n\n\t\t\t\t<Togglable text='Location'>\n\t\t\t\t\t<UserLocation />\n\t\t\t\t</Togglable>\n\t\t\t\t<hr className='my-4' />\n\n\t\t\t\t<Togglable text='Activity log'>\n\t\t\t\t\t<div style={logStyle}>\n\t\t\t\t\t\t{log.length\n\t\t\t\t\t\t\t? (log.map((i) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div key={i.id} className='' style={entryStyle}>\n\t\t\t\t\t\t\t\t\t\t<span>{i.action} </span>\n\t\t\t\t\t\t\t\t\t\t<Link to={`/browse/${i.receiver}`}>\n\t\t\t\t\t\t\t\t\t\t\t<span style={{ color: '#3490dc' }}>{i.receivername} </span>\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t<span><TimeAgo date={i.created_at} live={false} /></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t: <div style={entryStyle}>\n\t\t\t\t\t\t\t\t<span>You have no activity</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</Togglable>\n\t\t\t\t<hr className='my-4' />\n\n\t\t\t\t<Togglable text='Blocked users'>\n\t\t\t\t\t<div style={logStyle} className='mb-4'>\n\t\t\t\t\t\t{blocks.length\n\t\t\t\t\t\t\t? (blocks.map((v) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div key={v.id} className='flex justify-between ' style={entryStyle}>\n\t\t\t\t\t\t\t\t\t\t<span>{v.firstname}</span>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tid={v.id}\n\t\t\t\t\t\t\t\t\t\t\tname={v.receiver}\n\t\t\t\t\t\t\t\t\t\t\tclassName='rounded bg-green-500 hover:bg-green-600 text-white ml-2 p-1'\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleUnblock}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tUnblock\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t: <div style={entryStyle}>\n\t\t\t\t\t\t\t\t<span>You have no blocked users</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</Togglable>\n\t\t\t\t<SubmitButton text='Save changes' />\n\t\t\t</form>\n\t\t</Wrapper>\n\t)\n}\n\nexport default ProfilePage\n","import { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nconst MatchPreview = ({ user }) => {\n\tconst { id } = useSelector(state => state.user)\n\tconst { matches, likes } = useSelector(state => state.match)\n\tconst [unreadMessages, setUnreadMessages] = useState(null)\n\n\tconst divideStyle = {\n\t\tmarginTop: '-1px',\n\t\tborderBottomWidth: '1px',\n\t\tborderColor: '#dae4e9',\n\t}\n\n\tconst isSeen = likes.find(i => i.receiver === user.id)\n\n\tuseEffect(() => {\n\t\tif (matches) {\n\t\t\tlet count = 0\n\t\t\tmatches.map(i => {\n\t\t\t\tif (i.chat.length) {\n\t\t\t\t\ti.chat.map(message => message.sender === user.id && message.status === 0 ? count++ : null)\n\t\t\t\t}\n\t\t\t})\n\t\t\tif (count) {\n\t\t\t\tcount < 99 ? setUnreadMessages(count) : setUnreadMessages(99)\n\t\t\t} else if (isSeen.is_seen === 0) {\n\t\t\t\tsetUnreadMessages(1)\n\t\t\t} else {\n\t\t\t\tsetUnreadMessages(null)\n\t\t\t}\n\t\t}\n\t}, [matches])\n\n\treturn (\n\t\t<div className='w-full flex items-center p-2 relative'>\n\t\t\t<div className='w-16 sm:w-20'>\n\t\t\t\t<Link to={`/matches/${user.id}`}>\n\t\t\t\t\t<div className='w-16 h-16 sm:w-20 sm:h-20 relative'>\n\t\t\t\t\t\t<img src={user.avatar} alt='avatar' className='h-full w-full rounded-full object-cover shadow' />\n\t\t\t\t\t\t<div className='absolute top-1/2 left-full transform -translate-x-1/2 -translate-y-1/2 border-2 border-white rounded-full shadow '>\n\t\t\t\t\t\t\t{user.online\n\t\t\t\t\t\t\t\t? <div className='bg-green-500 h-4 w-4 rounded-full'></div>\n\t\t\t\t\t\t\t\t: <div className='bg-red-500 h-4 w-4 rounded-full'></div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t\t<Link to={`/chat/${user.id}`} className='flex flex-col w-full h-16 sm:h-20 pl-4 justify-center overflow-hidden relative'>\n\t\t\t\t<span className='truncate text-xl sm:text-2xl'>{user.firstname}</span>\n\t\t\t\t<span className='truncate text-sm sm:text-base text-gray-500 flex flex-row flex-nowrap'>\n\t\t\t\t\t{user.chat.length\n\t\t\t\t\t\t? user.chat[user.chat.length - 1].sender === id\n\t\t\t\t\t\t\t? (<div className=\"flex text-center items-center\">\n\t\t\t\t\t\t\t\t<svg className=\"h-4 w-4 text-gray-500 mr-2 inline-block\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M8.309 189.836L184.313 37.851C199.719 24.546 224 35.347 224 56.015v80.053c160.629 1.839 288 34.032 288 186.258 0 61.441-39.581 122.309-83.333 154.132-13.653 9.931-33.111-2.533-28.077-18.631 45.344-145.012-21.507-183.51-176.59-185.742V360c0 20.7-24.3 31.453-39.687 18.164l-176.004-152c-11.071-9.562-11.086-26.753 0-36.328z\"></path></svg>\n\t\t\t\t\t\t\t\t{user.chat[user.chat.length - 1].message}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t: user.chat[user.chat.length - 1].message\n\n\t\t\t\t\t\t: 'Say hi to your new match 👋'}\n\t\t\t\t</span>\n\t\t\t\t<div className='absolute right-0 bg-white w-6 h-full rounded'></div>\n\t\t\t\t<div className='bg-gradient-to-r from-transparent to-white absolute right-0 w-12 mr-6 h-full rounded'></div>\n\t\t\t\t{unreadMessages &&\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='absolute w-6 h-6 top-1/2 right-3 transform -translate-y-1/2 rounded-full inline-block text-white bg-red-500 text-center'\n\t\t\t\t\t\tstyle={{ lineHeight: '1.5rem' }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span className='z-10 relative'>\n\t\t\t\t\t\t\t{unreadMessages}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span className='z-0 absolute bg-red-500 animate-ping w-6 h-6 top-0 left-0 rounded-full overflow-visible'>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</Link>\n\t\t\t<div className='absolute right-0 top-0 w-3/4 sm:w-4/5 mx-4' style={divideStyle}></div>\n\t\t</div>\n\t)\n}\n\nconst Matches = () => {\n\tconst { matches } = useSelector(state => state.match)\n\n\tconst fieldStyle = {\n\t\tborderTopWidth: '1px',\n\t\tborderColor: '#dae4e9',\n\t}\n\n\treturn (\n\t\t<div className='max-w-screen-sm mx-auto px-2 slideDown'>\n\t\t\t<div className='flex flex-col justify-center bg-white rounded ui-shadow'>\n\t\t\t\t<h1 className='text-2xl sm:text-3xl text-center p-2 sm:p-4'>\n\t\t\t\t\tMatches\n\t\t\t\t</h1>\n\t\t\t\t{matches.length\n\t\t\t\t\t? <div className=\"\" style={fieldStyle}>\n\t\t\t\t\t\t{matches.map(user => <MatchPreview key={user.id} user={user} />)}\n\t\t\t\t\t</div>\n\t\t\t\t\t: <div className=\"flex justify-center items-center p-4\" style={fieldStyle}>\n\t\t\t\t\t\tYou have not matched with anyone yet\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Matches","import { Link } from 'react-router-dom'\nimport { XIcon } from '@heroicons/react/outline'\nimport { useHistory } from 'react-router-dom'\n\nconst InfoBar = ({ user }) => {\n\tlet history = useHistory()\n\n\tconst style = {\n\t\tborderBottomWidth: '2px',\n\t\tborderColor: '#dae4e9',\n\t}\n\n\treturn (\n\t\t<div className=\"w-full flex justify-between items-center p-2 relative \" style={style}>\n\t\t\t<section className='flex items-center overflow-hidden'>\n\t\t\t\t<Link to={`/matches/${user.id}`}>\n\t\t\t\t\t<div className='w-10 h-10 sm:w-12 sm:h-12 relative'>\n\t\t\t\t\t\t<img src={user.avatar} alt='avatar' className='h-full w-full rounded-full object-cover shadow' />\n\t\t\t\t\t\t<div className='absolute top-1/2 left-full transform -translate-x-1/2 -translate-y-1/2 border-2 border-white rounded-full shadow '>\n\t\t\t\t\t\t\t{user.online\n\t\t\t\t\t\t\t\t? <div className='bg-green-500 h-4 w-4 rounded-full'></div>\n\t\t\t\t\t\t\t\t: <div className='bg-red-500 h-4 w-4 rounded-full'></div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Link>\n\t\t\t\t<span className='text-xl sm:text-2xl pl-4 '>{user.firstname}</span>\n\t\t\t</section>\n\t\t\t<section className='flex items-center cursor-pointer select-none hover:opacity-50 p-2' onClick={() => history.goBack()}>\n\t\t\t\t<XIcon className='ml-2 h-8 w-8' />\n\t\t\t</section>\n\t\t</div>\n\t)\n}\n\nexport default InfoBar","import { useSelector } from 'react-redux'\n\nconst Message = ({ message: { sender, message } }) => {\n\tconst { id } = useSelector(state => state.user)\n\n\tconst messageStyle = {\n\t\tdisplay: 'block',\n\t\tborderColor: '#dae4e9',\n\t\tborderRadius: '1rem',\n\t\tmaxWidth: '80%',\n\t\tpadding: '.75rem 1rem',\n\t\tbackground: '#F3F3F3',\n\t}\n\n\tconst senderStyle = {\n\t\tdisplay: 'block',\n\t\tborderColor: '#dae4e9',\n\t\tborderRadius: '1rem',\n\t\tmaxWidth: '80%',\n\t\tpadding: '1rem',\n\t\tbackground: '#2979FF',\n\t\tcolor: '#FFF',\n\t}\n\n\treturn (\n\t\tsender === id\n\t\t\t? (\n\t\t\t\t<div className='flex justify-end px-4 mt-1 items-center overflow-ellipsis overflow-hidden break-words'>\n\t\t\t\t\t<div style={senderStyle}>\n\t\t\t\t\t\t<p>{message}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)\n\t\t\t: (\n\t\t\t\t<div className='flex justify-start px-4 mt-1 items-center overflow-ellipsis overflow-hidden break-words'>\n\t\t\t\t\t<div style={messageStyle}>\n\t\t\t\t\t\t<p>{message}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)\n\t)\n}\n\nexport default Message","import Message from './Message'\nimport { useEffect, useRef } from 'react'\n\nconst ChatMessages = ({ messages }) => {\n\tconst divStyle = {\n\t\theight: '100%',\n\t\toverflow: 'auto',\n\t}\n\n\tconst messagesEndRef = useRef(null)\n\n\tconst scrollToBottom = () => {\n\t\tmessagesEndRef.current.scrollIntoView({ behavior: 'smooth' })\n\t}\n\n\tuseEffect(() => {\n\t\tscrollToBottom()\n\t}, [messages])\n\n\treturn (\n\t\t<div className=\"py-2 sm:py-4\" style={divStyle}>\n\t\t\t{messages.map((message) => <Message key={message.id} message={message} />)}\n\t\t\t<div ref={messagesEndRef} />\n\t\t</div>\n\t)\n}\n\nexport default ChatMessages","import { EmojiHappyIcon } from '@heroicons/react/outline'\nimport { Picker } from 'emoji-mart'\nimport 'emoji-mart/css/emoji-mart.css'\nimport { useEffect, useState } from 'react'\n\nconst ChatInput = ({ message, setMessage, sendMessage }) => {\n\tconst [showEmojis, setShowEmojis] = useState(false)\n\n\tconst handler = (event) => {\n\t\tconst parent = document.getElementById('emojipicker')\n\t\tif (parent && !parent.contains(event.target)) {\n\t\t\tsetShowEmojis(false)\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tif (showEmojis) {\n\t\t\twindow.addEventListener('click', handler)\n\t\t\treturn () => {\n\t\t\t\twindow.removeEventListener('click', handler)\n\t\t\t}\n\t\t}\n\t}, [showEmojis])\n\n\tconst divStyle = {\n\t\tborderTopWidth: '2px',\n\t\tborderColor: '#dae4e9',\n\t}\n\n\tconst inputStyle = {\n\t\tdisplay: 'inline-block',\n\t\tborderWidth: '1px',\n\t\tborderColor: '#dae4e9',\n\t\tborderTopLeftRadius: '.5rem',\n\t\tborderBottomLeftRadius: '.5rem',\n\t\twidth: '100%',\n\t\tpadding: '.75rem',\n\t\tpaddingRight: '2.75rem',\n\t}\n\n\tconst buttonStyle = {\n\t\tdisplay: 'inline-block',\n\t\tborderWidth: '1px',\n\t\tborderColor: '#dae4e9',\n\t\tborderTopRightRadius: '.5rem',\n\t\tborderBottomRightRadius: '.5rem',\n\t\tpadding: '.75rem',\n\t\tcolor: '#fff',\n\t\tbackground: '#2979FF',\n\t\tuserSelect: 'none',\n\t}\n\n\treturn (\n\t\t<form className=\"w-full flex justify-between items-center p-4 relative\" style={divStyle}>\n\t\t\t<input\n\t\t\t\tstyle={inputStyle}\n\t\t\t\ttype='text'\n\t\t\t\tmaxLength='280'\n\t\t\t\tplaceholder='Type a message...'\n\t\t\t\tvalue={message}\n\t\t\t\tonChange={e => setMessage(e.target.value)}\n\t\t\t\tonKeyPress={e => e.key === 'Enter' ? sendMessage(e) : null}\n\t\t\t/>\n\t\t\t{showEmojis && (\n\t\t\t\t<div className='absolute bottom-3/4 right-20 mx-auto mb-1 ml-4' id='emojipicker'>\n\t\t\t\t\t<Picker\n\t\t\t\t\t\tonSelect={e => setMessage(message + e.native)}\n\t\t\t\t\t\tstyle={{ width: '100%' }}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<div className='absolute p-3 top-1/2 right-16 transform -translate-y-1/2 cursor-pointer'>\n\t\t\t\t<EmojiHappyIcon className='h-8 w-8 mr-3 text-gray-400' onClick={() => setShowEmojis(!showEmojis)} />\n\t\t\t</div>\n\t\t\t<button\n\t\t\t\tstyle={buttonStyle}\n\t\t\t\tonClick={e => sendMessage(e)}\n\t\t\t>\n\t\t\t\tSend\n\t\t\t</button>\n\n\t\t</form>\n\t)\n}\n\nexport default ChatInput","import { chatMessage, profileLike } from '../../../reducers/matchReducer'\nimport { useState, useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport InfoBar from './InfoBar'\nimport ChatMessages from './ChatMessages'\nimport ChatInput from './ChatInput'\n\nconst Chat = ({ profile }) => {\n\tconst { id } = useSelector(state => state.user)\n\tconst { likes } = useSelector(state => state.match)\n\tconst [message, setMessage] = useState('')\n\tconst [messages, setMessages] = useState([])\n\tconst dispatch = useDispatch()\n\n\tconst isSeen = likes.find(i => i.receiver === profile.id)\n\n\tuseEffect(() => {\n\t\tif (profile.chat.length) {\n\t\t\tsetMessages(profile.chat)\n\t\t\tif (profile.chat.find(i => i.receiver === id && i.status === 0)) {\n\t\t\t\tdispatch(chatMessage({ type: 'read', sender: profile.id, receiver: id }))\n\t\t\t}\n\t\t}\n\t\tif (isSeen.is_seen === 0) {\n\t\t\tdispatch(profileLike({ from: id, to: profile.id, type: 'read', id: isSeen.id }))\n\t\t}\n\t}, [profile])\n\n\tconst sendMessage = (event) => {\n\t\tevent.preventDefault()\n\n\t\tif (message && message !== '') {\n\t\t\tdispatch(chatMessage({ type: 'new', message: message, sender: id, receiver: profile.id }))\n\t\t\tsetMessage('')\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className='max-w-screen-sm mx-auto px-2'>\n\t\t\t<div\n\t\t\t\tclassName='flex flex-col justify-center bg-white rounded ui-shadow h-screen'\n\t\t\t\tstyle={{ height: 'calc(100vh - (80px + 64px))', maxHeight: '800px' }}\n\t\t\t>\n\t\t\t\t<InfoBar user={profile} />\n\t\t\t\t<ChatMessages messages={messages} />\n\t\t\t\t<ChatInput message={message} setMessage={setMessage} sendMessage={sendMessage} />\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Chat","import { useDispatch, useSelector } from 'react-redux'\nimport { MailOpenIcon } from '@heroicons/react/outline'\nimport { HeartIcon } from '@heroicons/react/outline'\nimport { HeartIcon as MatchIcon } from '@heroicons/react/solid'\nimport { Link } from 'react-router-dom'\nimport moment from 'moment-twitter'\nimport { readNotif } from '../../reducers/matchReducer'\nimport InfiniteScroll from 'react-infinite-scroll-component'\nimport { useEffect, useRef, useState } from 'react'\n\nconst MarkAsRead = ({ readAll }) => (\n\t<div\n\t\tclassName=\"flex justify-center p-2 sm:p-4 select-none cursor-pointer hover:underline\"\n\t\tstyle={{\n\t\t\tborderTopWidth: '1px',\n\t\t\tborderColor: '#dae4e9',\n\t\t\tcolor: '#3490dc',\n\t\t}}\n\t\tonClick={() => readAll()}\n\t>\n\t\t<MailOpenIcon className=' h-5 w-5 mr-2' />\n\t\t<span>Mark all as read</span>\n\t</div>\n)\n\nconst Notification = ({ notif, readOne }) => {\n\tconst { likes, matches, publicLikes } = useSelector(state => state.match)\n\n\tconst divideStyle = {\n\t\tmarginTop: '-1px',\n\t\tborderBottomWidth: '1px',\n\t\tborderColor: '#dae4e9',\n\t}\n\n\tconst handleClick = () => {\n\t\tif (notif.id && notif.status === 0) {\n\t\t\treadOne(notif.id)\n\t\t}\n\t}\n\n\tconst isMatch = matches.find(i => i.id === notif.sender)\n\tconst isLiked = likes.find(i => i.receiver === notif.sender)\n\tconst hasLiked = publicLikes.find(i => i.sender === notif.sender)\n\n\tconst notifMessage = () => {\n\t\tswitch (notif.action) {\n\t\tcase 'view':\n\t\t\treturn 'Viewed your profile'\n\t\tcase 'like':\n\t\t\treturn isLiked ? 'Matched with you' : 'Liked you'\n\t\tcase 'unlike':\n\t\t\treturn isLiked ? 'Unmatched with you' : 'Unliked you'\n\t\t}\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName='w-full flex items-center p-2 relative'\n\t\t\tonClick={handleClick}\n\t\t\tstyle={notif.status === 0 ? { cursor: 'pointer', backgroundColor: 'rgba(248,247,251,255)' } : null}\n\t\t>\n\t\t\t<div className='w-12 sm:w-14' style={notif.status === 0 ? { marginLeft: '1.5rem' } : { marginLeft: '0.5rem' }}>\n\t\t\t\t<Link to={`/browse/${notif.sender}`}>\n\t\t\t\t\t<div className='w-10 h-10 sm:w-14 sm:h-14 relative'>\n\t\t\t\t\t\t<img src={notif.avatar} alt='avatar' className='h-full w-full rounded-full object-cover shadow' />\n\t\t\t\t\t\t<div className='absolute top-1/2 left-full transform -translate-x-1/2 -translate-y-1/2 bg-white rounded-full shadow '>\n\t\t\t\t\t\t\t{isMatch\n\t\t\t\t\t\t\t\t? <MatchIcon className='h-6 w-6 text-pink-500' />\n\t\t\t\t\t\t\t\t: isLiked\n\t\t\t\t\t\t\t\t\t? <HeartIcon className='h-6 w-6 text-pink-500' />\n\t\t\t\t\t\t\t\t\t: hasLiked\n\t\t\t\t\t\t\t\t\t\t? <HeartIcon className='h-6 w-6 text-pink-500 ' />\n\t\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Link>\n\t\t\t\t{notif.status === 0 &&\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='absolute w-4 h-4 top-1/2 left-2 transform -translate-y-1/2 rounded-full inline-block text-white bg-red-500 text-center'\n\t\t\t\t\t\tstyle={{ lineHeight: '1.5rem' }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span className='z-0 absolute animate-ping bg-red-500 w-4 h-4 top-0 left-0 rounded-full overflow-visible'>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t<div className='flex flex-row justify-between w-full overflow-hidden' style={isLiked ? { marginLeft: '0.5rem' } : hasLiked ? { marginLeft: '0.5rem' } : null }>\n\t\t\t\t<div className='flex flex-col h-12 sm:h-14 pl-2 justify-center overflow-hidden relative'>\n\t\t\t\t\t<Link to={`/browse/${notif.sender}`} >\n\t\t\t\t\t\t<span className='truncate text-lg'>{notif.sendername}</span>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<span className='truncate text-sm sm:text-base text-gray-500 flex flex-row flex-nowrap select-none'>\n\t\t\t\t\t\t{notifMessage()}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div className='flex flex-col justify-center mr-2'>\n\t\t\t\t\t<div className='absolute right-0 bg-white w-12 h-full rounded'></div>\n\t\t\t\t\t<div className='bg-gradient-to-r from-transparent to-white absolute right-0 w-20 mr-12 h-full rounded'></div>\n\t\t\t\t\t<span className='text-sm sm:text-base text-gray-500 z-10 select-none'>\n\t\t\t\t\t\t{moment(notif.created_at).twitterShort()}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className='absolute right-0 top-0 w-full' style={divideStyle}></div>\n\t\t</div>\n\t)\n}\n\nconst Notifications = () => {\n\tconst { id } = useSelector(state => state.user)\n\tconst { notif } = useSelector(state => state.match)\n\tconst [items, setItems] = useState([])\n\tconst hasMore = useRef(true)\n\tconst dispatch = useDispatch()\n\n\tconst fieldStyle = {\n\t\tborderTopWidth: '1px',\n\t\tborderColor: '#dae4e9',\n\t\theight: '100%',\n\t\toverflow: 'auto',\n\t}\n\n\tconst readAll = () => {\n\t\tconst unread = notif.filter(i => i.status === 0).map(i => i.id)\n\t\tif (unread.length) {\n\t\t\tdispatch(readNotif(unread, id))\n\t\t}\n\t}\n\n\tconst readOne = (notifid) => {\n\t\tconst unread = [notifid]\n\t\tdispatch(readNotif(unread, id))\n\t}\n\n\tconst fetchMoreItems = () => {\n\t\tsetItems(items.concat(notif.slice(items.length, items.length + 50)))\n\t\tif (items.length >= notif.length) {\n\t\t\thasMore.current = false\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tif (notif) {\n\t\t\tconst initial = notif.slice(0, 50)\n\t\t\tif (initial.length >= notif.length) {\n\t\t\t\thasMore.current = false\n\t\t\t}\n\t\t\tsetItems(initial.slice(0, 50))\n\t\t}\n\t}, [notif])\n\n\treturn (\n\t\t<div className='max-w-screen-sm mx-auto px-2 slideDown'>\n\t\t\t<div className='flex flex-col justify-center bg-white rounded ui-shadow' style={{ height: 'calc(100vh - (80px + 64px))', maxHeight: '800px' }}>\n\t\t\t\t<h1 className='text-2xl sm:text-3xl text-center p-2 sm:p-4'>\n\t\t\t\t\tNotifications\n\t\t\t\t</h1>\n\t\t\t\t{/* {items.length\n\t\t\t\t\t? <>\n\t\t\t\t\t\t<div className=\"\" style={fieldStyle}>\n\t\t\t\t\t\t\t{items.map(i => <Notification key={i.id} notif={i} readOne={readOne} />)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t\t: <div className=\"flex justify-center items-center p-4\" style={fieldStyle}>\n\t\t\t\t\t\tYou have no notifications\n\t\t\t\t\t</div>\n\t\t\t\t} */}\n\t\t\t\t<div id='scrollContainer' style={{ height: '100%', overflow: 'auto' }}>\n\t\t\t\t\t<InfiniteScroll\n\t\t\t\t\t\tdataLength={items.length}\n\t\t\t\t\t\tnext={fetchMoreItems}\n\t\t\t\t\t\thasMore={hasMore.current}\n\t\t\t\t\t\tscrollableTarget='scrollContainer'\n\t\t\t\t\t\tloader={\n\t\t\t\t\t\t\t<div className=\"flex justify-center items-center p-4\" style={fieldStyle}>\n\t\t\t\t\t\t\t\tLoading...\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tendMessage={null}\n\t\t\t\t\t>\n\t\t\t\t\t\t{items.length\n\t\t\t\t\t\t\t? <div style={fieldStyle}>\n\t\t\t\t\t\t\t\t{items.map(i => <Notification key={i.id} notif={i} readOne={readOne} />)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t: <div className=\"flex justify-center items-center p-4\" style={fieldStyle}>\n\t\t\t\t\t\t\t\tYou have no notifications\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t</InfiniteScroll>\n\t\t\t\t</div>\n\t\t\t\t<MarkAsRead readAll={readAll} />\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Notifications","import Wrapper from '../Wrapper'\nimport Heading from './Heading'\nimport SubmitButton from './SubmitButton'\nimport UserImage from './UserImage'\nimport UserGender from './UserGender'\nimport UserOrientation from './UserOrientation'\nimport UserBio from './UserBio'\nimport UserTags from './UserTags'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { update } from '../../../reducers/userReducer'\nimport { updateTags } from '../../../reducers/publicReducer'\nimport parse from '../../../utils/parse'\nimport { avatar } from '../../../reducers/formReducer'\nimport imageCompression from 'browser-image-compression'\n\nconst ProfileForm = () => {\n\tconst { id, token } = useSelector(state => state.user)\n\tconst { orientation, gender, bio, tags, errorMessage, notification } = useSelector(state => state.form)\n\tconst dispatch = useDispatch()\n\n\tconst handleSubmit = async (event) => {\n\t\tevent.preventDefault()\n\n\t\tconst data = {\n\t\t\tgender: gender,\n\t\t\torientation: parse.oToDb(orientation),\n\t\t\ttags: (tags ? tags.map(t => t).join('') : ''),\n\t\t\tbio: bio,\n\t\t}\n\n\t\tawait dispatch(update(data, id))\n\t\tawait dispatch(updateTags(tags))\n\n\t\tconst imageFile = event.target.photo.files[0]\n\t\tconst reader = new FileReader()\n\n\t\tconst options = {\n\t\t\tmaxSizeMB: 0.5,\n\t\t\tmaxWidthOrHeight: 1920,\n\t\t\tuseWebWorker: true\n\t\t}\n\n\t\tif (imageFile && imageFile.size <= 1000000) {\n\t\t\ttry {\n\t\t\t\tconst compressedFile = await imageCompression(imageFile, options)\n\t\t\t\treader.readAsDataURL(compressedFile)\n\t\t\t\treader.onloadend = async () => {\n\t\t\t\t\tdispatch(avatar({ blob: reader.result }))\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tevent.target.photo.value = null\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<Wrapper>\n\t\t\t<Heading title='Your profile' />\n\t\t\t{notification && <div className='mb-4 text-center text-green-500'>{notification}</div>}\n\t\t\t<p className='mb-4 text-center'>Finish setting up your profile to start matching</p>\n\t\t\t{errorMessage && <div className='mb-4 text-center text-red-500'>{errorMessage}</div>}\n\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t<UserImage />\n\t\t\t\t<UserGender />\n\t\t\t\t<UserOrientation />\n\t\t\t\t<UserTags />\n\t\t\t\t<UserBio />\n\t\t\t\t<SubmitButton text='Save changes' />\n\t\t\t</form>\n\t\t</Wrapper>\n\t)\n}\n\nexport default ProfileForm\n","import { Route, Switch } from 'react-router-dom'\nimport Layout from './components/layout/Layout'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useEffect } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { lookup } from './reducers/userReducer'\nimport { getUserIds } from './reducers/publicReducer'\nimport { getHistory, getMatches, getNotif, getLikes } from './reducers/matchReducer'\nimport auth from './utils/auth'\n\nimport LoginPage from './components/pages/Login'\nimport SignupPage from './components/pages/Signup'\nimport ForgotPage from './components/pages/Forgot'\nimport BrowsePage from './components/pages/Browse'\nimport PublicProfile from './components/pages/PublicProfile'\nimport MatchProfile from './components/pages/MatchProfile'\nimport ResetPage from './components/pages/Reset'\nimport ProfilePage from './components/pages/Profile'\nimport MatchPage from './components/pages/Matches'\nimport ChatPage from './components/pages/Chat'\nimport NotificationPage from './components/pages/Notifications'\nimport ProfileForm from './components/ui/forms/ProfileForm'\nimport Wrapper from './components/ui/Wrapper'\n\nimport io from 'socket.io-client'\nconst endpoint = process.env.REACT_APP_ENDPOINT\nconst socket = io(endpoint)\n\nconst App = () => {\n\tconst { id, loggedIn, userComplete, orientation } = useSelector(state => state.user)\n\tconst { errorMessage } = useSelector(state => state.form)\n\tconst { ids, loadingApp } = useSelector(state => state.public)\n\tconst { matches, likes, blocks } = useSelector(state => state.match)\n\tconst dispatch = useDispatch()\n\n\tuseEffect(() => {\n\t\tconst user = JSON.parse(window.localStorage.getItem('user'))\n\n\t\tif (user) {\n\t\t\tauth.setToken(user.token)\n\t\t\tdispatch({\n\t\t\t\ttype: 'LOGIN',\n\t\t\t\tdata: user\n\t\t\t})\n\t\t} else {\n\t\t\twindow.localStorage.clear()\n\t\t\tdispatch({\n\t\t\t\ttype: 'LOADINGAPP',\n\t\t\t\tdata: false\n\t\t\t})\n\t\t}\n\t\tdispatch(lookup())\n\t}, [dispatch])\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tsocket.close()\n\t\t}\n\t}, [])\n\n\tuseEffect(() => {\n\t\tif (errorMessage === 'token expired') {\n\t\t\twindow.localStorage.clear()\n\t\t\twindow.location.href = '/expired'\n\t\t}\n\t}, [errorMessage])\n\n\tuseEffect(async () => {\n\t\tif (userComplete) {\n\t\t\tawait dispatch(getHistory())\n\t\t} else if (loggedIn && !userComplete) {\n\t\t\tdispatch({\n\t\t\t\ttype: 'LOADINGAPP',\n\t\t\t\tdata: false\n\t\t\t})\n\t\t}\n\t}, [userComplete, loggedIn])\n\n\tuseEffect(() => {\n\t\tif (loggedIn) {\n\t\t\tconst user = JSON.parse(window.localStorage.getItem('user'))\n\t\t\tsocket.emit('login', { data: user }, (error) => {\n\t\t\t\tif (error) {\n\t\t\t\t\tconsole.log(error)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}, [loggedIn])\n\n\tuseEffect(async () => {\n\t\tif (id && blocks) {\n\t\t\tawait dispatch(getNotif(id))\n\t\t\tawait dispatch(getMatches())\n\t\t\tawait dispatch(getUserIds(blocks))\n\t\t}\n\t}, [id, blocks, orientation, likes])\n\n\tuseEffect(() => {\n\t\tif (id && blocks) {\n\t\t\tsocket.on('message', () => {\n\t\t\t\tdispatch(getMatches())\n\t\t\t})\n\t\t\tsocket.on('notification', (sender) => {\n\t\t\t\tconst isBlocked = blocks.find(i => i.receiver === sender)\n\t\t\t\tif (!isBlocked) {\n\t\t\t\t\tdispatch(getNotif(id))\n\t\t\t\t}\n\t\t\t})\n\t\t\tsocket.on('like', (sender) => {\n\t\t\t\tconst isBlocked = blocks.find(i => i.receiver === sender)\n\t\t\t\tif (!isBlocked) {\n\t\t\t\t\tdispatch(getLikes())\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}, [id, blocks])\n\n\treturn (\n\t\t<Layout>\n\t\t\t{loadingApp\n\t\t\t\t? <Wrapper>\n\t\t\t\t\t<div className='text-center'>\n\t\t\t\t\t\tLoading...\n\t\t\t\t\t</div>\n\t\t\t\t</Wrapper>\n\t\t\t\t: <Switch>\n\t\t\t\t\t<Route path='/browse/:id' exact render={({ match }) => {\n\t\t\t\t\t\tconst id = parseInt(match.params.id)\n\t\t\t\t\t\tconst foundUser = ids.find(user => user === id)\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tloggedIn\n\t\t\t\t\t\t\t\t? userComplete\n\t\t\t\t\t\t\t\t\t? foundUser\n\t\t\t\t\t\t\t\t\t\t? <PublicProfile profileId={foundUser} />\n\t\t\t\t\t\t\t\t\t\t: <Redirect to='/browse' />\n\t\t\t\t\t\t\t\t\t: <ProfileForm />\n\t\t\t\t\t\t\t\t: <Redirect to='/' />\n\t\t\t\t\t\t)\n\t\t\t\t\t}} />\n\t\t\t\t\t<Route path='/browse' render={() => loggedIn\n\t\t\t\t\t\t? userComplete\n\t\t\t\t\t\t\t? <BrowsePage />\n\t\t\t\t\t\t\t: <ProfileForm />\n\t\t\t\t\t\t: <Redirect to='/' />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route path='/chat/:id' exact render={({ match }) => {\n\t\t\t\t\t\tconst id = parseInt(match.params.id)\n\t\t\t\t\t\tconst foundUser = matches.find(user => user.id === id)\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tloggedIn\n\t\t\t\t\t\t\t\t? userComplete\n\t\t\t\t\t\t\t\t\t? foundUser\n\t\t\t\t\t\t\t\t\t\t? <ChatPage profile={foundUser} />\n\t\t\t\t\t\t\t\t\t\t: <Redirect to='/matches' />\n\t\t\t\t\t\t\t\t\t: <ProfileForm />\n\t\t\t\t\t\t\t\t: <Redirect to='/' />\n\t\t\t\t\t\t)\n\t\t\t\t\t}} />\n\t\t\t\t\t<Route path='/login' render={() => !loggedIn\n\t\t\t\t\t\t? <LoginPage />\n\t\t\t\t\t\t: <Redirect to='/' />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route path='/verify' render={() => !loggedIn\n\t\t\t\t\t\t? <LoginPage />\n\t\t\t\t\t\t: <Redirect to='/' />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route path='/expired' render={() => !loggedIn\n\t\t\t\t\t\t? <LoginPage />\n\t\t\t\t\t\t: <Redirect to='/' />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route path='/signup' render={() => !loggedIn\n\t\t\t\t\t\t? <SignupPage />\n\t\t\t\t\t\t: <Redirect to='/' />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route path='/forgot' render={() => !loggedIn\n\t\t\t\t\t\t? <ForgotPage />\n\t\t\t\t\t\t: <Redirect to='/' />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route path='/reset/:token' render={() => !loggedIn\n\t\t\t\t\t\t? <ResetPage />\n\t\t\t\t\t\t: <Redirect to='/' />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route path='/profile' render={() => loggedIn && userComplete\n\t\t\t\t\t\t? <ProfilePage />\n\t\t\t\t\t\t: <Redirect to='/' />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route path='/matches/:id' exact render={({ match }) => {\n\t\t\t\t\t\tconst id = parseInt(match.params.id)\n\t\t\t\t\t\tconst foundUser = matches.find(user => user.id === id)\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tloggedIn\n\t\t\t\t\t\t\t\t? userComplete\n\t\t\t\t\t\t\t\t\t? foundUser\n\t\t\t\t\t\t\t\t\t\t? <MatchProfile profile={foundUser} />\n\t\t\t\t\t\t\t\t\t\t: <Redirect to='/matches' />\n\t\t\t\t\t\t\t\t\t: <ProfileForm />\n\t\t\t\t\t\t\t\t: <Redirect to='/' />\n\t\t\t\t\t\t)\n\t\t\t\t\t}} />\n\t\t\t\t\t<Route path='/matches' render={() => loggedIn\n\t\t\t\t\t\t? <MatchPage />\n\t\t\t\t\t\t: <Redirect to='/' />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route path='/notif' render={() => loggedIn\n\t\t\t\t\t\t? <NotificationPage />\n\t\t\t\t\t\t: <Redirect to='/' />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route path='/' render={() => loggedIn\n\t\t\t\t\t\t? <Redirect to='/browse' />\n\t\t\t\t\t\t: <Redirect to='/login' />\n\t\t\t\t\t} />\n\t\t\t\t</Switch>\n\t\t\t}\n\t\t</Layout>\n\t)\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport store from './store'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport 'tailwindcss/tailwind.css'\nimport './styles/index.css'\nimport App from './App'\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<Router>\n\t\t\t<App />\n\t\t</Router>\n\t</Provider>,\n\tdocument.getElementById('root')\n)"],"sourceRoot":""}